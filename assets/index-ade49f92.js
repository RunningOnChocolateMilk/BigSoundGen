import{r,a as le,R as ne}from"./vendor-b1791c80.js";import{s as oe,P as ie,S as ce,T as v,c as de}from"./tone-8ef2bf3d.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function m(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(l){if(l.ep)return;l.ep=!0;const o=m(l);fetch(l.href,o)}})();var B={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=r,ue=Symbol.for("react.element"),xe=Symbol.for("react.fragment"),fe=Object.prototype.hasOwnProperty,he=me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ge={key:!0,ref:!0,__self:!0,__source:!0};function z(h,i,m){var d,l={},o=null,u=null;m!==void 0&&(o=""+m),i.key!==void 0&&(o=""+i.key),i.ref!==void 0&&(u=i.ref);for(d in i)fe.call(i,d)&&!ge.hasOwnProperty(d)&&(l[d]=i[d]);if(h&&h.defaultProps)for(d in i=h.defaultProps,i)l[d]===void 0&&(l[d]=i[d]);return{$$typeof:ue,type:h,key:o,ref:u,props:l,_owner:he.current}}p.Fragment=xe;p.jsx=z;p.jsxs=z;B.exports=p;var e=B.exports,k={},O=le;k.createRoot=O.createRoot,k.hydrateRoot=O.hydrateRoot;const ye=()=>{const[h,i]=r.useState(!1),[m,d]=r.useState("C"),[l,o]=r.useState("piano"),[u,b]=r.useState(new Set),[pe,E]=r.useState(new Set),[c,V]=r.useState(null),[$,K]=r.useState("00:00.0"),[q,be]=r.useState(120),[R,j]=r.useState(!1),[I,U]=r.useState(!1),[A,G]=r.useState(!1),[H,W]=r.useState(.7),[L,N]=r.useState([{id:1,name:"Synth Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:2,name:"Drum Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:3,name:"Bass Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:4,name:"Lead Track",mute:!1,solo:!1,volume:.7,hasContent:!1}]),[x,w]=r.useState(!1),[je,T]=r.useState(null),[J,M]=r.useState(0),C={C:{I:{name:"C",notes:["C3","E3","G3"],type:"major"},ii:{name:"Dm",notes:["D3","F3","A3"],type:"minor"},iii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},IV:{name:"F",notes:["F3","A3","C4"],type:"major"},V:{name:"G",notes:["G3","B3","D4"],type:"major"},vi:{name:"Am",notes:["A3","C4","E4"],type:"minor"},"vii°":{name:"Bdim",notes:["B3","D4","F4"],type:"diminished"}}},P={piano:{name:"Piano",icon:"🎹",waveform:"triangle",adsr:{attack:.01,decay:.3,sustain:.3,release:1.5},filterCutoff:3e3,effects:{reverb:!0,delay:!1},detune:0,volume:-6},synth:{name:"Synth",icon:"🎛️",waveform:"sawtooth",adsr:{attack:.1,decay:.3,sustain:.7,release:.8},filterCutoff:1200,effects:{reverb:!1,delay:!0},detune:0,volume:-3},bass:{name:"Bass",icon:"🎸",waveform:"square",adsr:{attack:.05,decay:.2,sustain:.8,release:.4},filterCutoff:300,effects:{reverb:!1,delay:!1},detune:0,volume:-2},pad:{name:"Pad",icon:"☁️",waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.9,release:3},filterCutoff:600,effects:{reverb:!0,delay:!0},detune:0,volume:-8},lead:{name:"Lead",icon:"🎷",waveform:"sawtooth",adsr:{attack:.02,decay:.1,sustain:.9,release:.3},filterCutoff:2e3,effects:{reverb:!0,delay:!1},detune:0,volume:-4},organ:{name:"Organ",icon:"🎹",waveform:"square",adsr:{attack:0,decay:0,sustain:1,release:.05},filterCutoff:1500,effects:{reverb:!0,delay:!1},detune:0,volume:-5},strings:{name:"Strings",icon:"🎻",waveform:"triangle",adsr:{attack:.5,decay:1,sustain:.8,release:2.5},filterCutoff:2500,effects:{reverb:!0,delay:!1},detune:0,volume:-7},brass:{name:"Brass",icon:"🎺",waveform:"sawtooth",adsr:{attack:.1,decay:.4,sustain:.7,release:.8},filterCutoff:1800,effects:{reverb:!0,delay:!1},detune:0,volume:-4},choir:{name:"Choir",icon:"👥",waveform:"sine",adsr:{attack:.3,decay:.8,sustain:.9,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!0},detune:0,volume:-6},bell:{name:"Bell",icon:"🔔",waveform:"triangle",adsr:{attack:0,decay:.1,sustain:.1,release:3},filterCutoff:4e3,effects:{reverb:!0,delay:!1},detune:0,volume:-8},pluck:{name:"Pluck",icon:"🪕",waveform:"triangle",adsr:{attack:0,decay:.05,sustain:0,release:.3},filterCutoff:2e3,effects:{reverb:!1,delay:!0},detune:0,volume:-3},ambient:{name:"Ambient",icon:"🌌",waveform:"sine",adsr:{attack:3,decay:2,sustain:.9,release:5},filterCutoff:800,effects:{reverb:!0,delay:!0},detune:0,volume:-12}},[Y,Q]=r.useState({reverb:!1,delay:!1,tremolo:!1,flanger:!1,sidechain:!1,eq:!1}),[y,g]=r.useState({attack:.1,decay:.2,sustain:.7,release:1.2}),[X,_]=r.useState(2e3);r.useEffect(()=>{i(!0),console.log("Interface loaded")},[]);const Z=s=>{const t=P[s];if(!(!t||!c)){if(c.set({oscillator:{type:t.waveform,detune:t.detune},envelope:t.adsr,volume:t.volume}),c.effectsChain&&c.effectsChain.filter&&c.effectsChain.filter.set({frequency:t.filterCutoff}),c.effectsChain){const{reverb:a,delay:n}=c.effectsChain;t.effects.reverb?a.wet.value=.3:a.wet.value=0,t.effects.delay?n.wet.value=.1:n.wet.value=0}o(s),g(t.adsr),_(t.filterCutoff)}},D=s=>{if(!c)return;const t=C[m][s];t&&(console.log("Playing chord:",s,t.notes),t.notes.forEach(a=>{c.triggerAttack(a)}),b(a=>new Set([...a,s])))},S=s=>{if(!c)return;const t=C[m][s];t&&(t.notes.forEach(a=>{c.triggerRelease(a)}),b(a=>{const n=new Set(a);return n.delete(s),n}))},ee=()=>{c&&(c.releaseAll(),b(new Set))},se=()=>{R?(v.stop(),j(!1)):(v.start(),j(!0))},te=()=>{v.stop(),v.position=0,j(!1),K("00:00.0")},ae=async()=>{try{const t=de.createMediaStreamDestination();c.connect(t);const a=new MediaRecorder(t.stream,{mimeType:"audio/webm;codecs=opus"}),n=[];a.ondataavailable=f=>{f.data.size>0&&n.push(f.data)},a.onstop=()=>{const f=new Blob(n,{type:"audio/webm"});T(f),w(!1)},a.start(1e3),w(!0),M(0),T(null)}catch(s){console.error("Failed to start recording:",s)}},re=()=>{w(!1)};return r.useEffect(()=>{const s=a=>{if(a.repeat)return;const n={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};n[a.key]&&(a.preventDefault(),D(n[a.key]),E(f=>new Set([...f,a.key]))),a.key==="Escape"&&ee()},t=a=>{const n={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};n[a.key]&&(a.preventDefault(),S(n[a.key]),E(f=>{const F=new Set(f);return F.delete(a.key),F}))};return window.addEventListener("keydown",s),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",t)}},[m,c]),r.useEffect(()=>{let s=null;return x?s=setInterval(()=>{M(t=>t+1)},1e3):clearInterval(s),()=>clearInterval(s)},[x]),h?e.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col",children:[e.jsxs("div",{className:"h-12 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),e.jsx("span",{className:"font-bold text-lg",children:"ChordMaster"})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"File"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Edit"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Settings"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Help"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm text-green-400",children:"Ready"}),e.jsx("div",{className:"text-sm font-semibold",children:"Untitled Project"}),e.jsx("button",{onClick:async()=>{try{await oe(),console.log("Tone.js context started");const s=new ie(ce,{oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:.7,release:1.2}}).toDestination();V(s),s.triggerAttackRelease("C4","8n"),console.log("Test note played")}catch(s){console.error("Audio initialization failed:",s)}},className:"px-3 py-1 bg-green-600 rounded text-sm hover:bg-green-700",children:"Test Audio"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700",children:"Save"}),e.jsx("button",{className:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500",children:"Export"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"w-64 bg-gray-800 border-r border-gray-700 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Tracks"}),L.map(s=>e.jsxs("div",{className:"bg-gray-700 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:s.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N(t=>t.map(a=>a.id===s.id?{...a,solo:!a.solo}:a)),className:`w-6 h-6 rounded text-xs ${s.solo?"bg-yellow-600":"bg-gray-600"}`,children:"S"}),e.jsx("button",{onClick:()=>N(t=>t.map(a=>a.id===s.id?{...a,mute:!a.mute}:a)),className:`w-6 h-6 rounded text-xs ${s.mute?"bg-red-600":"bg-gray-600"}`,children:"M"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Vol"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.volume,onChange:t=>N(a=>a.map(n=>n.id===s.id?{...n,volume:parseFloat(t.target.value)}:n)),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Pan"}),e.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:"0",className:"flex-1"})]})]})]},s.id)),e.jsx("button",{className:"w-full py-2 bg-gray-700 rounded text-sm hover:bg-gray-600",children:"+ Add Track"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"h-8 bg-gray-800 border-b border-gray-700 flex items-center px-4",children:e.jsx("div",{className:"flex gap-8 text-sm text-gray-400",children:Array.from({length:16},(s,t)=>e.jsx("div",{className:"w-8 text-center",children:t+1},t))})}),e.jsx("div",{className:"flex-1 bg-gray-900 p-4",children:e.jsx("div",{className:"space-y-2",children:L.map(s=>e.jsxs("div",{className:"h-16 bg-gray-800 rounded border border-gray-700 flex items-center px-4",children:[e.jsx("div",{className:"w-32 text-sm font-semibold",children:s.name}),e.jsx("div",{className:"flex-1 flex gap-2",children:s.hasContent?e.jsx("div",{className:"h-12 bg-blue-600 rounded flex items-center px-3",children:e.jsx("div",{className:"text-sm",children:"Audio Clip"})}):e.jsx("div",{className:"h-12 bg-gray-700 rounded flex items-center px-3 text-gray-500",children:"Empty"})})]},s.id))})})]})]}),e.jsx("div",{className:"h-64 bg-gray-800 border-t border-gray-700 p-4",children:e.jsxs("div",{className:"h-full flex gap-6",children:[e.jsxs("div",{className:"w-64",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Instruments"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(P).map(([s,t])=>e.jsx("button",{onClick:()=>Z(s),className:`p-3 rounded-lg border-2 transition-all duration-300 ${l===s?"border-blue-400 bg-blue-400/20 text-blue-300":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg mb-1",children:t.icon}),e.jsx("div",{className:"text-xs font-semibold",children:t.name})]})},s))})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Key"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["C","G","D","A","E","F"].map(s=>e.jsx("button",{onClick:()=>d(s),className:`p-3 rounded-lg border-2 font-mono text-lg font-bold transition-all duration-300 ${m===s?"border-blue-400 bg-blue-400/20 text-blue-300":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,children:s},s))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Nashville Chords"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(C[m]).map(([s,t])=>e.jsxs("button",{onMouseDown:()=>D(s),onMouseUp:()=>S(s),onMouseLeave:()=>S(s),className:`p-3 rounded-lg text-sm font-semibold transition-all duration-200 ${u.has(s)?"bg-blue-600 text-white shadow-lg":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[e.jsx("div",{className:"text-xs text-gray-400",children:s}),e.jsx("div",{children:t.name})]},s))})]}),e.jsxs("div",{className:"w-48",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"ADSR"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Attack"}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.01",value:y.attack,onChange:s=>g(t=>({...t,attack:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Decay"}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.01",value:y.decay,onChange:s=>g(t=>({...t,decay:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Sustain"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:y.sustain,onChange:s=>g(t=>({...t,sustain:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Release"}),e.jsx("input",{type:"range",min:"0",max:"5",step:"0.01",value:y.release,onChange:s=>g(t=>({...t,release:parseFloat(s.target.value)})),className:"w-full"})]})]})]}),e.jsxs("div",{className:"w-48",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Effects"}),e.jsx("div",{className:"space-y-2",children:Object.entries(Y).map(([s,t])=>e.jsx("button",{onClick:()=>Q(a=>({...a,[s]:!t})),className:`w-full py-2 px-3 rounded text-xs font-semibold transition-all duration-300 ${t?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Filter Cutoff"}),e.jsx("input",{type:"range",min:"100",max:"4000",step:"10",value:X,onChange:s=>_(parseInt(s.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Recording"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:ae,disabled:x,className:`w-full py-2 rounded text-xs font-semibold transition-all duration-300 ${x?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:x?"Recording...":"Record"}),e.jsx("button",{onClick:re,disabled:!x,className:`w-full py-2 rounded text-xs font-semibold transition-all duration-300 ${x?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,children:"Stop"}),x&&e.jsxs("div",{className:"text-center text-xs text-gray-400",children:[J,"s"]})]})]})]})})]}),e.jsxs("div",{className:"h-16 bg-gray-800 border-t border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:H,onChange:s=>W(parseFloat(s.target.value)),className:"w-20"})]}),e.jsx("div",{className:"text-sm font-mono",children:$})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:te,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 6h12v12H6z"})})}),e.jsx("button",{onClick:se,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:R?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("button",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:["Key: ",m]}),e.jsxs("div",{className:"text-sm",children:["Tempo: ",q]}),e.jsx("button",{onClick:()=>U(!I),className:`px-3 py-1 rounded text-sm ${I?"bg-blue-600":"bg-gray-600"}`,children:"Loop"}),e.jsx("button",{onClick:()=>G(!A),className:`px-3 py-1 rounded text-sm ${A?"bg-yellow-600":"bg-gray-600"}`,children:"Metronome"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"-"}),e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"+"})]})]})]}):e.jsx("div",{className:"h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})})};function ve(){return e.jsx(ye,{})}k.createRoot(document.getElementById("root")).render(e.jsx(ne.StrictMode,{children:e.jsx(ve,{})}));
