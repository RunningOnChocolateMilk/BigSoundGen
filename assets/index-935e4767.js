import{r as k,a as Q,R as S}from"./vendor-b1791c80.js";import{T as Z,P as ee,S as se,F as te,R as ne,a as ae}from"./tone-c3f615b0.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function d(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=d(s);fetch(s.href,r)}})();var R={exports:{}},E={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=k,ie=Symbol.for("react.element"),le=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ce=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,de={key:!0,ref:!0,__self:!0,__source:!0};function V(t,l,d){var o,s={},r=null,m=null;d!==void 0&&(r=""+d),l.key!==void 0&&(r=""+l.key),l.ref!==void 0&&(m=l.ref);for(o in l)oe.call(l,o)&&!de.hasOwnProperty(o)&&(s[o]=l[o]);if(t&&t.defaultProps)for(o in l=t.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return{$$typeof:ie,type:t,key:r,ref:m,props:s,_owner:ce.current}}E.Fragment=le;E.jsx=V;E.jsxs=V;R.exports=E;var e=R.exports,M={},L=Q;M.createRoot=L.createRoot,M.hydrateRoot=L.hydrateRoot;const me=({onNoteTrigger:t,onNoteRelease:l,onStopAll:d,currentChord:o,scale:s})=>{const r=[{note:"C4",isBlack:!1,key:"a"},{note:"C#4",isBlack:!0,key:"w"},{note:"D4",isBlack:!1,key:"s"},{note:"D#4",isBlack:!0,key:"e"},{note:"E4",isBlack:!1,key:"d"},{note:"F4",isBlack:!1,key:"f"},{note:"F#4",isBlack:!0,key:"t"},{note:"G4",isBlack:!1,key:"g"},{note:"G#4",isBlack:!0,key:"y"},{note:"A4",isBlack:!1,key:"h"},{note:"A#4",isBlack:!0,key:"u"},{note:"B4",isBlack:!1,key:"j"},{note:"C5",isBlack:!1,key:"k"},{note:"C#5",isBlack:!0,key:"o"},{note:"D5",isBlack:!1,key:"l"},{note:"D#5",isBlack:!0,key:"p"},{note:"E5",isBlack:!1,key:";"},{note:"F5",isBlack:!1,key:"'"},{note:"F#5",isBlack:!0,key:"]"},{note:"G5",isBlack:!1,key:"\\"}],[m,x]=S.useState(new Set),j={major:["C4","D4","E4","F4","G4","A4","B4","C5","D5","E5","F5","G5"],minor:["C4","D4","D#4","F4","G4","G#4","A#4","C5","D5","D#5","F5","G5"],pentatonic:["C4","D4","E4","G4","A4","C5","D5","E5","G5"],blues:["C4","D#4","F4","F#4","G4","A#4","C5","D#5","F5","F#5","G5"]},b=(()=>{if(!o||!o.chords)return[];const h=o.chords[0].replace(/\d+/,""),N={C:["C","E","G"],D:["D","F#","A"],E:["E","G#","B"],F:["F","A","C"],G:["G","B","D"],A:["A","C#","E"],B:["B","D#","F#"],Am:["A","C","E"],Dm:["D","F","A"],Em:["E","G","B"],Fm:["F","G#","C"],Gm:["G","A#","D"],Bb:["Bb","D","F"]}[h]||[];return r.filter(w=>N.some(C=>w.note.includes(C))).map(w=>w.note)})(),y=j[s]||[];S.useEffect(()=>{const n=N=>{const w=r.find(C=>C.key===N.key.toLowerCase());w&&!m.has(w.note)&&(N.preventDefault(),x(C=>new Set([...C,w.note])),t(w.note))},h=N=>{const w=r.find(C=>C.key===N.key.toLowerCase());w&&m.has(w.note)&&(N.preventDefault(),x(C=>{const D=new Set(C);return D.delete(w.note),D}),l(w.note))},p=N=>{N.key==="Escape"&&(N.preventDefault(),x(new Set),d())};return window.addEventListener("keydown",n),window.addEventListener("keyup",h),window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",h),window.removeEventListener("keydown",p)}},[r,t,l,d,m]);const u=n=>{m.has(n)||(x(h=>new Set([...h,n])),t(n))},a=n=>{m.has(n)&&(x(h=>{const p=new Set(h);return p.delete(n),p}),l(n))},i=n=>{m.has(n)&&(x(h=>{const p=new Set(h);return p.delete(n),p}),l(n))},c=n=>{const h=m.has(n.note),p=b.includes(n.note),N=y.includes(n.note);return h?n.isBlack?"bg-synth-accent text-white":"bg-synth-primary text-white":p?n.isBlack?"bg-green-600 text-white border-green-500":"bg-green-500 text-white border-green-400":N?n.isBlack?"bg-blue-600 text-white border-blue-500":"bg-blue-500 text-white border-blue-400":n.isBlack?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-4 p-3 bg-synth-dark/50 rounded-lg border border-gray-700",children:e.jsxs("div",{className:"flex justify-center space-x-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-synth-primary rounded"}),e.jsx("span",{className:"text-gray-300",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Chord Tones"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Scale Notes"})]})]})}),e.jsx("div",{className:"flex",children:r.filter(n=>!n.isBlack).map((n,h)=>e.jsx("button",{className:`
              relative z-10 h-24 w-8 border transition-colors duration-100
              hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg
              ${c(n)}
            `,onMouseDown:()=>u(n.note),onMouseUp:()=>a(n.note),onMouseLeave:()=>i(n.note),style:{marginLeft:h>0?"-1px":"0"},title:`${n.note} - ${n.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-16",children:n.key.toUpperCase()})},n.note))}),e.jsx("div",{className:"absolute top-0 left-0 flex",children:r.filter(n=>n.isBlack).map((n,h)=>{const p=r.findIndex(N=>N.note===n.note)-1;return e.jsx("button",{className:`
                relative z-20 h-16 w-6 border transition-colors duration-100
                hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg ml-2
                ${c(n)}
              `,onMouseDown:()=>u(n.note),onMouseUp:()=>a(n.note),onMouseLeave:()=>i(n.note),style:{marginLeft:`${p*28-12}px`},title:`${n.note} - ${n.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-10",children:n.key.toUpperCase()})},n.note)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>{x(new Set),d()},className:"btn-secondary px-4 py-2 text-sm",children:"ðŸ›‘ Stop All Notes"})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Use your computer keyboard or click the keys above"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Keys: A S D F G H J K L ; ' \\ (and W E T Y U O P ] for sharps)"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Press ",e.jsx("span",{className:"font-mono bg-gray-700 px-1 rounded",children:"ESC"}),' or click "Stop All Notes" to stop all sounds']}),e.jsx("p",{className:"text-xs text-synth-accent mt-2",children:"ðŸ’¡ Green keys sound great with your current chord!"})]})]})},xe=({waveform:t,onWaveformChange:l})=>{var o;const d=[{value:"sine",label:"Sine",description:"Smooth, pure tone"},{value:"square",label:"Square",description:"Hollow, woody sound"},{value:"sawtooth",label:"Sawtooth",description:"Bright, buzzy"},{value:"triangle",label:"Triangle",description:"Soft, mellow"}];return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Waveform Type"}),e.jsx("select",{value:t,onChange:s=>l(s.target.value),className:`
          w-full px-3 py-2 bg-synth-dark border border-gray-600 rounded-lg
          text-white focus:outline-none focus:ring-2 focus:ring-synth-primary
          focus:border-transparent transition-all duration-200
        `,children:d.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("div",{className:"text-sm text-gray-400",children:(o=d.find(s=>s.value===t))==null?void 0:o.description}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Waveform Preview:"}),e.jsx("div",{className:"h-8 flex items-center justify-center",children:e.jsx("div",{className:`w-16 h-8 border border-synth-primary rounded ${t==="sine"?"bg-gradient-to-r from-transparent via-synth-primary to-transparent":t==="square"?"bg-synth-primary":t==="sawtooth"?"bg-gradient-to-br from-transparent to-synth-primary":"bg-gradient-to-t from-transparent to-synth-primary"}`})})]})]})},he=({adsr:t,onAdsrChange:l})=>{const d=(s,r)=>{l({...t,[s]:parseFloat(r)})},o=[{key:"attack",label:"Attack",description:"How quickly the note reaches full volume",min:0,max:2,step:.01,color:"from-red-500 to-orange-500"},{key:"decay",label:"Decay",description:"How quickly it drops to sustain level",min:0,max:2,step:.01,color:"from-orange-500 to-yellow-500"},{key:"sustain",label:"Sustain",description:"The held volume level",min:0,max:1,step:.01,color:"from-yellow-500 to-green-500"},{key:"release",label:"Release",description:"How quickly it fades when released",min:0,max:3,step:.01,color:"from-green-500 to-blue-500"}];return e.jsxs("div",{className:"space-y-4",children:[o.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:s.label}),e.jsxs("span",{className:"text-xs text-synth-accent font-mono",children:[t[s.key].toFixed(2),"s"]})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step,value:t[s.key],onChange:r=>d(s.key,r.target.value),className:`
                slider w-full h-2 rounded-lg appearance-none cursor-pointer
                bg-gradient-to-r ${s.color}
              `,style:{background:`linear-gradient(to right, 
                  ${s.color.includes("red")?"#ef4444":s.color.includes("orange")?"#f97316":s.color.includes("yellow")?"#eab308":"#22c55e"} 
                  ${(t[s.key]-s.min)/(s.max-s.min)*100}%, 
                  #374151 ${(t[s.key]-s.min)/(s.max-s.min)*100}%)`}})}),e.jsx("div",{className:"text-xs text-gray-400",children:s.description})]},s.key)),e.jsxs("div",{className:"mt-6 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Envelope Shape:"}),e.jsx("div",{className:"h-16 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"adsrGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),e.jsx("stop",{offset:"33%",stopColor:"#f97316"}),e.jsx("stop",{offset:"66%",stopColor:"#eab308"}),e.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})}),e.jsx("path",{d:`M 0,${64-t.sustain*32} 
                  L ${t.attack*20},8 
                  L ${t.attack*20+t.decay*20},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40+t.release*20},64`,stroke:"url(#adsrGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},ye=({cutoff:t,onCutoffChange:l})=>{const d=s=>{l(parseFloat(s))},o=(t-200)/1800*270-135;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 block mb-2",children:"Filter Cutoff"}),e.jsxs("div",{className:"text-lg font-mono text-synth-accent",children:[Math.round(t)," Hz"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"knob",onClick:s=>{const r=s.currentTarget.getBoundingClientRect(),m=r.left+r.width/2,x=r.top+r.height/2,b=200+(Math.atan2(s.clientY-x,s.clientX-m)+Math.PI)/(2*Math.PI)*(2e3-200);l(Math.max(200,Math.min(2e3,b)))},children:e.jsx("div",{className:"knob-indicator",style:{transform:`translateX(-50%) rotate(${o}deg)`}})})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"200",max:"2000",step:"10",value:t,onChange:s=>d(s.target.value),className:"slider w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"200 Hz"}),e.jsx("span",{children:"2000 Hz"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-synth-primary/20 text-synth-primary rounded-full text-sm",children:"Low Pass Filter"})}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Frequency Response:"}),e.jsx("div",{className:"h-12 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"filterGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0.1"})]})}),e.jsx("path",{d:`M 0,48 Q ${(t-200)/(2e3-200)*100},8 ${(t-200)/(2e3-200)*100},8 L 100,8`,stroke:"url(#filterGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},pe=({effects:t,onEffectsChange:l})=>{var x,j,v,b,y,u;const[d,o]=S.useState(!1),s=a=>{l({...t,[a]:!t[a]})},r=(a,i,c)=>{l({...t,[a]:{...t[a],[i]:c}})},m=[{name:"reverb",label:"Reverb",icon:"ðŸŒŠ",description:"Adds spatial depth and ambience",parameters:[{name:"roomSize",label:"Room Size",min:.1,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"delay",label:"Delay",icon:"ðŸ”„",description:"Creates echo and rhythmic patterns",parameters:[{name:"delayTime",label:"Time",min:.1,max:2,step:.1,default:.5},{name:"feedback",label:"Feedback",min:0,max:.9,step:.1,default:.3},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"tremolo",label:"Tremolo",icon:"ðŸŒŠ",description:"Rapid volume modulation for vintage effect",parameters:[{name:"frequency",label:"Speed",min:.1,max:20,step:.5,default:5},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.5}]},{name:"flanger",label:"Flanger",icon:"ðŸŒ€",description:"Jet-like sweeping effect",parameters:[{name:"delay",label:"Delay",min:.001,max:.02,step:.001,default:.005},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"frequency",label:"Speed",min:.1,max:10,step:.1,default:1},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"chorus",label:"Chorus",icon:"ðŸŽ­",description:"Thickens and widens the sound",parameters:[{name:"frequency",label:"Speed",min:.1,max:5,step:.1,default:1},{name:"delayTime",label:"Delay",min:.001,max:.01,step:.001,default:.005},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"distortion",label:"Distortion",icon:"âš¡",description:"Adds grit and character",parameters:[{name:"distortion",label:"Amount",min:0,max:1,step:.1,default:.3},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.5}]}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent",children:"ðŸŽ›ï¸ Advanced Effects"}),e.jsx("button",{onClick:()=>o(!d),className:"text-gray-400 hover:text-white transition-colors",children:d?"ðŸ“":"ðŸ“‚"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.slice(0,4).map(a=>{var i,c,n;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-300",children:a.label}),e.jsx("div",{className:"text-xs text-gray-400",children:a.description})]})]}),e.jsx("button",{onClick:()=>s(a.name),className:`
                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200
                  ${(i=t[a.name])!=null&&i.enabled||t[a.name]===!0?"bg-synth-primary":"bg-gray-600"}
                `,children:e.jsx("span",{className:`
                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200
                    ${(c=t[a.name])!=null&&c.enabled||t[a.name]===!0?"translate-x-6":"translate-x-1"}
                  `})})]}),e.jsx("div",{className:"h-4 bg-synth-darker rounded-lg overflow-hidden",children:(n=t[a.name])!=null&&n.enabled||t[a.name]===!0?e.jsx("div",{className:"h-full bg-gradient-to-r from-synth-primary to-synth-secondary animate-pulse"}):e.jsx("div",{className:"h-full bg-gray-700"})})]},a.name)})}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-4",children:"ðŸŽšï¸ Effect Parameters"}),m.map(a=>{var i;return!((i=t[a.name])!=null&&i.enabled)&&t[a.name]!==!0?null:e.jsxs("div",{className:"mb-6 p-4 bg-synth-dark/50 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{className:"font-semibold text-synth-accent",children:a.label})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.parameters.map(c=>{var h;const n=((h=t[a.name])==null?void 0:h[c.name])||c.default;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:c.label}),e.jsx("span",{className:"text-xs text-synth-accent font-mono",children:n.toFixed(c.name==="delayTime"||c.name==="delay"?3:1)})]}),e.jsx("input",{type:"range",min:c.min,max:c.max,step:c.step,value:n,onChange:p=>r(a.name,c.name,parseFloat(p.target.value)),className:"slider w-full"})]},c.name)})})]},a.name)})]}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"ðŸŒŠ Low Frequency Oscillator (LFO)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"LFO Rate"}),e.jsx("input",{type:"range",min:"0.1",max:"20",step:"0.1",value:((x=t.lfo)==null?void 0:x.rate)||2,onChange:a=>r("lfo","rate",parseFloat(a.target.value)),className:"slider w-full"}),e.jsxs("div",{className:"text-xs text-synth-accent font-mono",children:[(((j=t.lfo)==null?void 0:j.rate)||2).toFixed(1)," Hz"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"LFO Depth"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:((v=t.lfo)==null?void 0:v.depth)||.5,onChange:a=>r("lfo","depth",parseFloat(a.target.value)),className:"slider w-full"}),e.jsx("div",{className:"text-xs text-synth-accent font-mono",children:(((b=t.lfo)==null?void 0:b.depth)||.5).toFixed(1)})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:()=>s("lfo"),className:`
                  px-3 py-1 rounded text-sm font-medium transition-colors
                  ${(y=t.lfo)!=null&&y.enabled?"bg-synth-primary text-white":"bg-gray-600 text-gray-300"}
                `,children:(u=t.lfo)!=null&&u.enabled?"LFO ON":"LFO OFF"})})]})]})]})},ue=({onRandomize:t})=>{const[l,d]=S.useState(!1),o=()=>{d(!0),t(),setTimeout(()=>{d(!1)},1e3)};return e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:o,disabled:l,className:`
          btn-primary px-6 py-3 text-lg font-semibold
          ${l?"animate-pulse":""}
          transition-all duration-300 hover:scale-105 active:scale-95
          disabled:opacity-50 disabled:cursor-not-allowed
        `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-xl ${l?"animate-spin":""}`,children:"ðŸŽ²"}),e.jsx("span",{children:l?"Randomizing...":"Randomize Patch"})]})}),e.jsx("div",{className:"mt-3 text-xs text-gray-400",children:"Generate a completely random synthesizer configuration"}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"What gets randomized:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-synth-primary rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Waveform"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"ADSR"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Effects"})]})]})]})]})},ge=({onPresetSelect:t,currentPreset:l})=>{const d=[{id:"ambient",name:"Ambient Dreams",description:"Soft, ethereal sounds perfect for relaxation",icon:"ðŸŒ™",settings:{waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.8,release:3},filterCutoff:800,effects:{reverb:!0,delay:!0}}},{id:"electronic",name:"Electronic Dance",description:"Punchy, energetic sounds for electronic music",icon:"âš¡",settings:{waveform:"sawtooth",adsr:{attack:.05,decay:.3,sustain:.7,release:.8},filterCutoff:1500,effects:{reverb:!1,delay:!0}}},{id:"classical",name:"Classical Elegance",description:"Warm, rich tones like orchestral instruments",icon:"ðŸŽ¼",settings:{waveform:"triangle",adsr:{attack:.3,decay:.5,sustain:.6,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!1}}},{id:"retro",name:"Retro Synth",description:"Nostalgic 80s synthesizer sounds",icon:"ðŸŽ¹",settings:{waveform:"square",adsr:{attack:.1,decay:.4,sustain:.5,release:1.2},filterCutoff:1e3,effects:{reverb:!0,delay:!0}}},{id:"bass",name:"Deep Bass",description:"Powerful low-end sounds for basslines",icon:"ðŸŽµ",settings:{waveform:"sawtooth",adsr:{attack:.1,decay:.2,sustain:.9,release:.5},filterCutoff:400,effects:{reverb:!1,delay:!1}}},{id:"pad",name:"Atmospheric Pad",description:"Sustained, evolving textures for backgrounds",icon:"â˜ï¸",settings:{waveform:"sine",adsr:{attack:1.5,decay:2,sustain:.8,release:4},filterCutoff:600,effects:{reverb:!0,delay:!0}}}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"ðŸŽ¨ Smart Presets"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Choose a style and let the synth configure itself!"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(o=>e.jsxs("button",{onClick:()=>t(o),className:`
              p-3 rounded-lg border transition-all duration-200 text-left
              ${l===o.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
            `,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xl",children:o.icon}),e.jsx("span",{className:"font-medium text-sm",children:o.name})]}),e.jsx("p",{className:"text-xs text-gray-400",children:o.description})]},o.id))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t(null),className:"btn-secondary px-4 py-2 text-sm",children:"ðŸŽ² Random Style"})})]})},be=({onChordTrigger:t,onChordRelease:l,currentKey:d="C",currentChord:o})=>{const s={C:{I:{name:"C",notes:["C4","E4","G4"],type:"major"},ii:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},iii:{name:"Em",notes:["E4","G4","B4"],type:"minor"},IV:{name:"F",notes:["F4","A4","C5"],type:"major"},V:{name:"G",notes:["G4","B4","D5"],type:"major"},vi:{name:"Am",notes:["A4","C5","E5"],type:"minor"},"viiÂ°":{name:"BÂ°",notes:["B4","D5","F5"],type:"diminished"}},G:{I:{name:"G",notes:["G3","B3","D4"],type:"major"},ii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},iii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},IV:{name:"C",notes:["C4","E4","G4"],type:"major"},V:{name:"D",notes:["D4","F#4","A4"],type:"major"},vi:{name:"Em",notes:["E4","G4","B4"],type:"minor"},"viiÂ°":{name:"F#Â°",notes:["F#4","A4","C5"],type:"diminished"}},D:{I:{name:"D",notes:["D3","F#3","A3"],type:"major"},ii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},iii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},IV:{name:"G",notes:["G3","B3","D4"],type:"major"},V:{name:"A",notes:["A3","C#4","E4"],type:"major"},vi:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},"viiÂ°":{name:"C#Â°",notes:["C#4","E4","G4"],type:"diminished"}},A:{I:{name:"A",notes:["A3","C#4","E4"],type:"major"},ii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},iii:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},IV:{name:"D",notes:["D4","F#4","A4"],type:"major"},V:{name:"E",notes:["E4","G#4","B4"],type:"major"},vi:{name:"F#m",notes:["F#4","A4","C#5"],type:"minor"},"viiÂ°":{name:"G#Â°",notes:["G#4","B4","D5"],type:"diminished"}},E:{I:{name:"E",notes:["E3","G#3","B3"],type:"major"},ii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},iii:{name:"G#m",notes:["G#3","B3","D#4"],type:"minor"},IV:{name:"A",notes:["A3","C#4","E4"],type:"major"},V:{name:"B",notes:["B3","D#4","F#4"],type:"major"},vi:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},"viiÂ°":{name:"D#Â°",notes:["D#4","F#4","A4"],type:"diminished"}},F:{I:{name:"F",notes:["F3","A3","C4"],type:"major"},ii:{name:"Gm",notes:["G3","Bb3","D4"],type:"minor"},iii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},IV:{name:"Bb",notes:["Bb3","D4","F4"],type:"major"},V:{name:"C",notes:["C4","E4","G4"],type:"major"},vi:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},"viiÂ°":{name:"EÂ°",notes:["E4","G4","Bb4"],type:"diminished"}}},[r,m]=S.useState(null),x=s[d]||s.C,j=(y,u)=>{m(y),u.notes.forEach(a=>{t(a)})},v=(y,u)=>{m(null),u.notes.forEach(a=>{l(a)})},b=[{number:"I",label:"1",description:"Tonic - Home base"},{number:"ii",label:"2",description:"Supertonic - Gentle"},{number:"iii",label:"3",description:"Mediant - Warm"},{number:"IV",label:"4",description:"Subdominant - Bright"},{number:"V",label:"5",description:"Dominant - Strong"},{number:"vi",label:"6",description:"Submediant - Soft"},{number:"viiÂ°",label:"7",description:"Leading tone - Tense"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"ðŸŽµ Nashville Chord System"}),e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Key of ",e.jsx("span",{className:"font-mono text-synth-primary",children:d})," - Press any number to play harmonized chords!"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:b.map(y=>{const u=x[y.number],a=r===y.number;return e.jsxs("button",{onMouseDown:()=>j(y.number,u),onMouseUp:()=>v(y.number,u),onMouseLeave:()=>v(y.number,u),className:`
                relative p-4 rounded-lg border-2 transition-all duration-200
                ${a?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
              `,title:`${y.number}: ${u.name} - ${y.description}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:y.label}),e.jsx("div",{className:"text-xs font-mono",children:u.name}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:u.type})]}),e.jsx("div",{className:`
                absolute top-1 right-1 w-2 h-2 rounded-full
                ${u.type==="major"?"bg-green-400":u.type==="minor"?"bg-blue-400":"bg-red-400"}
              `})]},y.number)})}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"ðŸŽ¼ Popular Progressions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-5-6-4"}),e.jsx("span",{className:"text-gray-400",children:"Pop Classic"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-6-4-5"}),e.jsx("span",{className:"text-gray-400",children:"50s Progression"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-4-5-1"}),e.jsx("span",{className:"text-gray-400",children:"Simple & Strong"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-2-5-1"}),e.jsx("span",{className:"text-gray-400",children:"Jazz Turnaround"})]})]})]}),r&&e.jsxs("div",{className:"bg-synth-primary/10 border border-synth-primary/30 rounded-lg p-3 text-center",children:[e.jsxs("div",{className:"text-synth-primary font-semibold",children:["Playing: ",x[r].name," (",r,")"]}),e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Notes: ",x[r].notes.join(" - ")]})]})]})},fe=({onChordModify:t,currentModification:l})=>{const[d,o]=S.useState(!1),[s,r]=S.useState({x:0,y:0}),m={major:{x:0,y:1,name:"Major",color:"green"},minor:{x:0,y:-1,name:"Minor",color:"blue"},seventh:{x:1,y:0,name:"7th",color:"purple"},sus2:{x:-1,y:1,name:"Sus2",color:"yellow"},sus4:{x:-1,y:-1,name:"Sus4",color:"orange"},augmented:{x:1,y:1,name:"Aug",color:"red"},diminished:{x:1,y:-1,name:"Dim",color:"gray"}},x=i=>{o(!0),b(i)},j=i=>{d&&b(i)},v=()=>{o(!1)},b=i=>{const c=i.currentTarget.getBoundingClientRect(),n=c.width/2,h=c.height/2,p=(i.clientX-c.left-n)/n,N=(i.clientY-c.top-h)/h,w=Math.sqrt(p*p+N*N),C=w>1?p/w:p,D=w>1?N/w:N;r({x:C,y:D});const B=y(C,D);t(B)},y=(i,c)=>c>.3?i>.3?"augmented":i<-.3?"sus2":"major":c<-.3?i>.3?"diminished":i<-.3?"sus4":"minor":i>.3?"seventh":"major",a=(()=>y(s.x,s.y))();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"ðŸŽ›ï¸ Chord Modifier"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag to modify chord quality in real-time"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative w-48 h-48 bg-synth-dark rounded-full border-2 border-gray-600 cursor-pointer",onMouseDown:x,onMouseMove:j,onMouseUp:v,onMouseLeave:v,children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2"}),Object.entries(m).map(([i,c])=>e.jsx("div",{className:`
                absolute w-16 h-16 rounded-full border-2 flex items-center justify-center text-xs font-semibold
                ${a===i?`border-${c.color}-400 bg-${c.color}-400/20 text-${c.color}-400`:"border-gray-600 bg-gray-700/50 text-gray-400"}
              `,style:{left:`${50+c.x*30}%`,top:`${50-c.y*30}%`,transform:"translate(-50%, -50%)"},children:c.name},i)),e.jsx("div",{className:"absolute w-4 h-4 bg-synth-primary rounded-full border-2 border-white transform -translate-x-1/2 -translate-y-1/2 transition-all duration-100",style:{left:`${50+s.x*30}%`,top:`${50-s.y*30}%`}})]})}),e.jsx("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-synth-accent mb-2",children:"Current Modification"}),e.jsx("div",{className:`
            inline-block px-4 py-2 rounded-lg font-semibold
            ${a==="major"?"bg-green-500/20 text-green-400 border border-green-500/30":a==="minor"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":a==="seventh"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":a==="sus2"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":a==="sus4"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":a==="augmented"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}
          `,children:m[a].name})]})}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"ðŸŽ¯ Modification Guide"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded"}),e.jsx("span",{children:"Major - Bright & Happy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded"}),e.jsx("span",{children:"Minor - Sad & Emotional"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded"}),e.jsx("span",{children:"7th - Jazz & Sophisticated"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),e.jsx("span",{children:"Sus2 - Open & Suspended"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded"}),e.jsx("span",{children:"Sus4 - Tense & Resolving"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),e.jsx("span",{children:"Aug - Bright & Tense"})]})]})]})]})},je=({onProgressionSelect:t,currentProgression:l,onAIChordSuggest:d})=>{const[o,s]=S.useState(!1),[r,m]=S.useState([]),[x,j]=S.useState([]),v={beginner:[{id:"happy-basic",name:"Happy Basic",difficulty:"Beginner",chords:["C","F","G","C"],pattern:"I - IV - V - I",description:"Perfect for uplifting songs",genre:"Pop",confidence:.95},{id:"sad-basic",name:"Melancholic",difficulty:"Beginner",chords:["Am","F","C","G"],pattern:"vi - IV - I - V",description:"Emotional and beautiful",genre:"Ballad",confidence:.92}],intermediate:[{id:"pop-classic",name:"Pop Classic",difficulty:"Intermediate",chords:["C","Am","F","G"],pattern:"I - vi - IV - V",description:"Used in countless hit songs",genre:"Pop",confidence:.98},{id:"jazz-turnaround",name:"Jazz Turnaround",difficulty:"Intermediate",chords:["C","Am","Dm","G"],pattern:"I - vi - ii - V",description:"Smooth jazz progression",genre:"Jazz",confidence:.89},{id:"blues-classic",name:"Classic Blues",difficulty:"Intermediate",chords:["C","C","F","C","G","F","C","G"],pattern:"I - I - IV - I - V - IV - I - V",description:"Traditional blues structure",genre:"Blues",confidence:.94}],advanced:[{id:"jazz-ii-v-i",name:"Jazz ii-V-I",difficulty:"Advanced",chords:["Dm7","G7","Cmaj7"],pattern:"ii7 - V7 - Imaj7",description:"Sophisticated jazz harmony",genre:"Jazz",confidence:.87},{id:"modal-interchange",name:"Modal Interchange",difficulty:"Advanced",chords:["C","Ab","Bb","F"],pattern:"I - bVI - bVII - IV",description:"Modern harmonic movement",genre:"Alternative",confidence:.76}]},b=i=>{if(i.length<2)return[];const c=i[i.length-1],n=i[i.length-2],h=[];return c==="C"&&n==="F"&&h.push({chord:"G",reason:"Classic V chord resolution",confidence:.9}),c==="G"&&n==="C"&&h.push({chord:"Am",reason:"Smooth vi chord movement",confidence:.85}),c==="Am"&&n==="F"&&h.push({chord:"C",reason:"Return to tonic",confidence:.88}),h.slice(0,3)},y=i=>{const c=[...r,i].slice(-10);m(c);const n=b(c);j(n),d(i,n)},u=i=>{t(i),s(!1)},a=()=>{s(!0),m([]),j([])};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"ðŸ¤– Smart Chord AI"}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI-powered chord suggestions and progression learning"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:a,className:`
            px-4 py-2 rounded-lg font-medium transition-all duration-200
            ${o?"bg-green-500/20 text-green-400 border border-green-500/30":"btn-primary"}
          `,children:o?"ðŸ§  Learning Mode Active":"ðŸŽ“ Start Learning Mode"})}),o&&x.length>0&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-400 mb-3",children:"ðŸ’¡ AI Suggestions"}),e.jsx("div",{className:"space-y-2",children:x.map((i,c)=>e.jsxs("button",{onClick:()=>y(i.chord),className:"w-full p-2 bg-green-500/20 hover:bg-green-500/30 rounded text-left transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-green-400",children:i.chord}),e.jsxs("span",{className:"text-xs text-gray-400",children:[(i.confidence*100).toFixed(0),"% match"]})]}),e.jsx("div",{className:"text-xs text-gray-300 mt-1",children:i.reason})]},c))})]}),o&&r.length>0&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"ðŸ“š Your Chord History"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((i,c)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm font-mono",children:i},c))})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(v).map(([i,c])=>e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsxs("h4",{className:"font-semibold text-synth-accent mb-3 capitalize",children:[i," Progressions"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.map(n=>e.jsxs("button",{onClick:()=>u(n),className:`
                    p-3 rounded-lg border transition-all duration-200 text-left
                    ${(l==null?void 0:l.id)===n.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
                  `,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:n.name}),e.jsx("div",{className:"text-sm text-gray-400",children:n.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-synth-accent font-mono",children:n.pattern}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(n.confidence*100).toFixed(0),"% confidence"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex space-x-2",children:n.chords.map((h,p)=>e.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs font-mono",children:h},p))}),e.jsx("div",{className:"text-xs text-gray-400",children:n.genre})]})]},n.id))})]},i))}),e.jsxs("div",{className:"bg-synth-secondary/10 border border-synth-secondary/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-synth-secondary mb-2",children:"ðŸ“Š AI Learning Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Chords Analyzed"}),e.jsx("div",{className:"text-synth-secondary font-semibold",children:r.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Suggestions Generated"}),e.jsx("div",{className:"text-synth-secondary font-semibold",children:x.length})]})]})]})]})},ve=({currentChord:t,currentKey:l,activeNotes:d,currentModification:o,currentProgression:s,aiSuggestions:r})=>{const[m,x]=S.useState("chord"),j=[{id:"chord",label:"Chord",icon:"ðŸŽµ"},{id:"progression",label:"Progression",icon:"ðŸŽ¼"},{id:"ai",label:"AI",icon:"ðŸ¤–"}],v=()=>t?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-synth-primary mb-1",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.type," chord in ",l]})]}),e.jsx("div",{className:"flex justify-center space-x-2",children:t.notes.map((a,i)=>e.jsx("div",{className:`
                w-12 h-12 rounded-lg flex items-center justify-center text-sm font-mono
                ${d.has(a)?"bg-synth-primary text-white":"bg-gray-700 text-gray-300"}
              `,children:a},i))}),o&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-synth-accent",children:["Modified: ",o]})})]}):"No chord selected",b=()=>s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-synth-accent mb-1",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[s.pattern," â€¢ ",s.genre]})]}),e.jsx("div",{className:"flex justify-center space-x-2",children:s.chords.map((a,i)=>e.jsx("div",{className:"w-16 h-16 bg-synth-secondary/20 border border-synth-secondary/30 rounded-lg flex items-center justify-center text-sm font-mono text-synth-secondary",children:a},i))}),e.jsx("div",{className:"text-center text-xs text-gray-400",children:s.description})]}):"No progression selected",y=()=>!r||r.length===0?e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ¤–"}),e.jsx("div",{children:"AI is analyzing your music..."}),e.jsx("div",{className:"text-xs mt-2",children:"Play some chords to get suggestions!"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-400 mb-1",children:"AI Suggestions"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Based on your playing pattern"})]}),e.jsx("div",{className:"space-y-2",children:r.map((a,i)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-500/10 border border-green-500/30 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-400",children:a.chord}),e.jsx("div",{className:"text-xs text-gray-400",children:a.reason})]}),e.jsxs("div",{className:"text-xs text-synth-accent font-mono",children:[(a.confidence*100).toFixed(0),"%"]})]},i))})]}),u=()=>{switch(m){case"chord":return v();case"progression":return b();case"ai":return y();default:return v()}};return e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-synth-accent",children:"ðŸ“º Visual Display"}),e.jsx("div",{className:"flex space-x-1",children:j.map(a=>e.jsx("button",{onClick:()=>x(a.id),className:`
                px-2 py-1 rounded text-xs font-medium transition-colors
                ${m===a.id?"bg-synth-primary text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
              `,children:a.icon},a.id))})]}),e.jsx("div",{className:"bg-synth-darker rounded-lg p-6 min-h-[200px] flex items-center justify-center",children:u()}),e.jsxs("div",{className:"mt-4 flex justify-between items-center text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsxs("span",{children:["Active Notes: ",d.size]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsxs("span",{children:["Key: ",l]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-synth-accent rounded-full animate-pulse"}),e.jsx("span",{children:"Live"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"ðŸ“Š Stats"}),e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"ðŸ’¾ Save"}),e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"ðŸ”„ Reset"})]})]})},Ne=({currentPreset:t,currentChord:l,scale:d})=>{const[o,s]=S.useState(!0),r={ambient:{title:"ðŸŒ™ Ambient Music Tips",tips:["Play slowly and let notes ring out","Use long, sustained notes for atmosphere","Try playing chords one note at a time (arpeggios)","Experiment with different octaves for depth"]},electronic:{title:"âš¡ Electronic Music Tips",tips:["Play rhythmic patterns with short, punchy notes","Try repeating the same note quickly","Use the lower octave for basslines","Layer different rhythms for complexity"]},classical:{title:"ðŸŽ¼ Classical Music Tips",tips:["Play melodies that rise and fall naturally","Use longer notes for emotional expression","Try playing scales up and down","Experiment with dynamics (loud and soft)"]},retro:{title:"ðŸŽ¹ Retro Synth Tips",tips:["Play catchy, memorable melodies","Use the pentatonic scale for easy success","Try playing the same pattern in different octaves","Keep it simple and repetitive"]},bass:{title:"ðŸŽµ Bass Music Tips",tips:["Focus on the lower octave (left side of keyboard)","Play single notes with rhythm","Try playing root notes of chords","Keep it simple and groovy"]},pad:{title:"â˜ï¸ Pad Music Tips",tips:["Hold down multiple notes at once","Play chords and let them sustain","Use slow, gentle movements","Layer different chord inversions"]}},m={happy:"Play the highlighted green keys - they'll sound great together!",sad:"Try playing slower, more emotional melodies with these chords.",jazz:"Experiment with complex rhythms and syncopation.",pop:"These chords are used in countless hit songs - play catchy melodies!",blues:"Try playing the same note repeatedly, then slide to another.",ambient:"Hold down multiple notes and let them blend together."},x=r[t]||r.ambient,j=m[l==null?void 0:l.id]||"Play any notes and see what sounds good!";return e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-synth-accent",children:"ðŸŽ¯ Music Guidance"}),e.jsx("button",{onClick:()=>s(!o),className:"text-gray-400 hover:text-white transition-colors",children:o?"ðŸ‘ï¸":"ðŸ‘ï¸â€ðŸ—¨ï¸"})]}),o&&e.jsxs("div",{className:"space-y-4",children:[t&&e.jsxs("div",{className:"bg-synth-primary/10 border border-synth-primary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-primary mb-2",children:x.title}),e.jsx("ul",{className:"space-y-1 text-sm text-gray-300",children:x.tips.map((v,b)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"â€¢"}),e.jsx("span",{children:v})]},b))})]}),l&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-400 mb-2",children:"ðŸŽµ Chord Progression Tips"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:j}),e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsxs("p",{children:["Pattern: ",e.jsx("span",{className:"font-mono text-green-400",children:l.pattern})]}),e.jsxs("p",{children:["Chords: ",e.jsx("span",{className:"font-mono text-green-400",children:l.chords.join(" - ")})]})]})]}),e.jsxs("div",{className:"bg-synth-secondary/10 border border-synth-secondary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-secondary mb-2",children:"ðŸ’¡ Quick Start Tips"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"â€¢"}),e.jsxs("span",{children:["Start with the ",e.jsx("strong",{children:"green keys"})," - they always sound good!"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"â€¢"}),e.jsxs("span",{children:["Try playing ",e.jsx("strong",{children:"3-4 notes"})," in a row to make melodies"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"â€¢"}),e.jsxs("span",{children:["Hold down ",e.jsx("strong",{children:"multiple keys"})," at once for chords"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"â€¢"}),e.jsxs("span",{children:["Don't worry about mistakes - ",e.jsx("strong",{children:"experiment freely!"})]})]})]})]}),d&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-blue-400 mb-2",children:["ðŸŽ¼ Scale: ",d.charAt(0).toUpperCase()+d.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-300",children:["The ",e.jsx("strong",{children:"blue keys"})," belong to this scale and will sound harmonious together."]})]})]}),!o&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"Tips are hidden"}),e.jsx("button",{onClick:()=>s(!0),className:"btn-primary px-4 py-2",children:"Show Tips"})]})]})};function we(){const[t,l]=k.useState(null),[d,o]=k.useState(!1),[s,r]=k.useState(null),[m,x]=k.useState(""),[j,v]=k.useState("sine"),[b,y]=k.useState({attack:.1,decay:.2,sustain:.5,release:1}),[u,a]=k.useState(1e3),[i,c]=k.useState({reverb:!1,delay:!1}),[n,h]=k.useState(null),[p,N]=k.useState(null),[w,C]=k.useState(null),[D,B]=k.useState("C"),[I,O]=k.useState("major"),[G,U]=k.useState("major"),[q,F]=k.useState(new Set),[H,_]=k.useState([]);k.useEffect(()=>{(async()=>{try{if(x("Initializing Tone.js..."),typeof Z>"u")throw new Error("Tone.js is not loaded");x("Creating synthesizer...");const f=new ee(se,{oscillator:{type:j},envelope:{attack:b.attack,decay:b.decay,sustain:b.sustain,release:b.release}}).toDestination();x("Setting up audio chain...");const A=new te(u,"lowpass");f.connect(A),A.toDestination();const Y=new ne(2).toDestination(),X=new ae("4n",.2).toDestination();i.reverb&&A.connect(Y),i.delay&&A.connect(X),l(f),o(!0),x("Synthesizer ready!"),r(null)}catch(f){console.error("Failed to initialize synthesizer:",f),r(f.message),x(`Error: ${f.message}`)}})()},[]),k.useEffect(()=>{t&&d&&t.set({oscillator:{type:j},envelope:b})},[t,j,b,d]);const P=g=>{if(t&&d)try{t.triggerAttack(g),F(f=>new Set([...f,g])),console.log("Playing note:",g)}catch(f){console.error("Error triggering note:",f)}},z=g=>{if(t&&d)try{t.triggerRelease(g),F(f=>{const A=new Set(f);return A.delete(g),A}),console.log("Releasing note:",g)}catch(f){console.error("Error releasing note:",f)}},T=()=>{if(t&&d)try{t.releaseAll(),F(new Set),console.log("Stopped all notes")}catch(g){console.error("Error stopping notes:",g)}},W=g=>{O(g),console.log("Chord modification:",g)},K=(g,f)=>{console.log("AI suggested chord:",g,f),_(f)},$=g=>{if(g)v(g.settings.waveform),y(g.settings.adsr),a(g.settings.filterCutoff),c(g.settings.effects),h(g.id),U({ambient:"major",electronic:"minor",classical:"major",retro:"pentatonic",bass:"blues",pad:"major"}[g.id]||"major");else{const f=["ambient","electronic","classical","retro","bass","pad"],A=f[Math.floor(Math.random()*f.length)];$({id:A})}},J=()=>{const g=["sine","square","sawtooth","triangle"],f=g[Math.floor(Math.random()*g.length)];v(f),y({attack:Math.random()*2,decay:Math.random()*2,sustain:Math.random(),release:Math.random()*3}),a(Math.random()*2e3+200),c({reverb:Math.random()>.5,delay:Math.random()>.5}),h(null),N(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-synth-darker to-synth-dark text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-synth-primary mb-2",children:"BigSoundGen"}),e.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"Idiot-Proof Music Synthesizer"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Make great music without knowing music theory! ðŸŽµ"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(be,{onChordTrigger:P,onChordRelease:z,currentKey:D,currentChord:p})}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(fe,{onChordModify:W,currentModification:I})}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(je,{onProgressionSelect:C,currentProgression:w,onAIChordSuggest:K})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(ge,{onPresetSelect:$,currentPreset:n})})}),e.jsx("div",{className:"mb-8",children:e.jsx(ve,{currentChord:p,currentKey:D,activeNotes:q,currentModification:I,currentProgression:w,aiSuggestions:H})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Oscillator"}),e.jsx(xe,{waveform:j,onWaveformChange:v})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"ADSR Envelope"}),e.jsx(he,{adsr:b,onAdsrChange:y})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Filter"}),e.jsx(ye,{cutoff:u,onCutoffChange:a})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Advanced Effects"}),e.jsx(pe,{effects:i,onEffectsChange:c})]}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(ue,{onRandomize:J})})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Smart Keyboard"}),e.jsx(me,{onNoteTrigger:P,onNoteRelease:z,onStopAll:T,currentChord:p,scale:G})]}),e.jsx("div",{children:e.jsx(Ne,{currentPreset:n,currentChord:p,scale:G})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full ${s?"bg-red-500/20 text-red-400 border border-red-500/30":d?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s?"bg-red-400":d?"bg-green-400":"bg-yellow-400"}`}),s?"Error Loading":d?"Synthesizer Ready":"Initializing..."]}),d&&e.jsx("button",{onClick:T,className:"btn-secondary px-4 py-2 text-sm",children:"ðŸ›‘ Emergency Stop"})]}),m&&e.jsx("div",{className:"text-sm text-gray-400",children:m}),s&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 max-w-md mx-auto",children:[e.jsx("div",{className:"text-red-400 font-semibold mb-2",children:"Error Details:"}),e.jsx("div",{className:"text-red-300 text-sm",children:s}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Check browser console for more details"})]})]})]})})}M.createRoot(document.getElementById("root")).render(e.jsx(S.StrictMode,{children:e.jsx(we,{})}));
