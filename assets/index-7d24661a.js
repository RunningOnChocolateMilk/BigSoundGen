import{r as n,a as Se,R as Ce}from"./vendor-b1791c80.js";import{L as ke,T as I,O as Y,P as Ee,S as Ae,F as Re,R as De,a as Be,b as Fe,c as Me,E as Ie,C as Le,G as Oe,d as Pe,e as Ge,f as Ve}from"./tone-d9a4e1f1.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function p(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function h(a){if(a.ep)return;a.ep=!0;const d=p(a);fetch(a.href,d)}})();var Z={exports:{}},L={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _e=n,$e=Symbol.for("react.element"),Te=Symbol.for("react.fragment"),qe=Object.prototype.hasOwnProperty,ze=_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0};function ee(c,m,p){var h,a={},d=null,u=null;p!==void 0&&(d=""+p),m.key!==void 0&&(d=""+m.key),m.ref!==void 0&&(u=m.ref);for(h in m)qe.call(m,h)&&!Ke.hasOwnProperty(h)&&(a[h]=m[h]);if(c&&c.defaultProps)for(h in m=c.defaultProps,m)a[h]===void 0&&(a[h]=m[h]);return{$$typeof:$e,type:c,key:d,ref:u,props:a,_owner:ze.current}}L.Fragment=Te;L.jsx=ee;L.jsxs=ee;Z.exports=L;var e=Z.exports,T={},X=Se;T.createRoot=X.createRoot,T.hydrateRoot=X.hydrateRoot;const Ue=()=>{const[c,m]=n.useState(!1),[p,h]=n.useState("C"),[a,d]=n.useState("piano"),[u,E]=n.useState(new Set);n.useState("major");const[b,te]=n.useState(!1),[j,se]=n.useState(120),[A,re]=n.useState("4/4"),[C,ne]=n.useState(!0),[q,oe]=n.useState(0),[v,ae]=n.useState({reverb:!1,delay:!1,tremolo:!1,flanger:!1,sidechain:!1,eq:!1}),[k,ie]=n.useState({low:0,lowMid:0,mid:0,highMid:0,high:0}),[f,z]=n.useState({threshold:-20,ratio:4,attack:.01,release:.1});n.useState("chord");const[o,le]=n.useState(null),[O,ce]=n.useState(null),[de,R]=n.useState(new Set),[w,P]=n.useState(!1),[Qe,me]=n.useState(null),[N,K]=n.useState(null),[D,U]=n.useState(0),[W,ue]=n.useState(null),[He,xe]=n.useState([]),G={piano:{name:"Piano",icon:"üéπ",waveform:"triangle",adsr:{attack:.01,decay:.3,sustain:.3,release:1.5},filterCutoff:3e3,effects:{reverb:!0,delay:!1},detune:0,volume:-6},synth:{name:"Synth",icon:"üéõÔ∏è",waveform:"sawtooth",adsr:{attack:.1,decay:.3,sustain:.7,release:.8},filterCutoff:1200,effects:{reverb:!1,delay:!0},detune:0,volume:-3},bass:{name:"Bass",icon:"üé∏",waveform:"square",adsr:{attack:.05,decay:.2,sustain:.8,release:.4},filterCutoff:300,effects:{reverb:!1,delay:!1},detune:0,volume:-2},pad:{name:"Pad",icon:"‚òÅÔ∏è",waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.9,release:3},filterCutoff:600,effects:{reverb:!0,delay:!0},detune:0,volume:-8},lead:{name:"Lead",icon:"üé∑",waveform:"sawtooth",adsr:{attack:.02,decay:.1,sustain:.9,release:.3},filterCutoff:2e3,effects:{reverb:!0,delay:!1},detune:0,volume:-4},organ:{name:"Organ",icon:"üéπ",waveform:"square",adsr:{attack:0,decay:0,sustain:1,release:.05},filterCutoff:1500,effects:{reverb:!0,delay:!1},detune:0,volume:-5},strings:{name:"Strings",icon:"üéª",waveform:"triangle",adsr:{attack:.5,decay:1,sustain:.8,release:2.5},filterCutoff:2500,effects:{reverb:!0,delay:!1},detune:0,volume:-7},brass:{name:"Brass",icon:"üé∫",waveform:"sawtooth",adsr:{attack:.1,decay:.4,sustain:.7,release:.8},filterCutoff:1800,effects:{reverb:!0,delay:!1},detune:0,volume:-4},choir:{name:"Choir",icon:"üë•",waveform:"sine",adsr:{attack:.3,decay:.8,sustain:.9,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!0},detune:0,volume:-6},bell:{name:"Bell",icon:"üîî",waveform:"triangle",adsr:{attack:0,decay:.1,sustain:.1,release:3},filterCutoff:4e3,effects:{reverb:!0,delay:!1},detune:0,volume:-8},pluck:{name:"Pluck",icon:"ü™ï",waveform:"triangle",adsr:{attack:0,decay:.05,sustain:0,release:.3},filterCutoff:2e3,effects:{reverb:!1,delay:!0},detune:0,volume:-3},ambient:{name:"Ambient",icon:"üåå",waveform:"sine",adsr:{attack:3,decay:2,sustain:.9,release:5},filterCutoff:800,effects:{reverb:!0,delay:!0},detune:0,volume:-10}},B={C:{I:{name:"C",notes:["C4","E4","G4"],type:"major"},ii:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},iii:{name:"Em",notes:["E4","G4","B4"],type:"minor"},IV:{name:"F",notes:["F4","A4","C5"],type:"major"},V:{name:"G",notes:["G4","B4","D5"],type:"major"},vi:{name:"Am",notes:["A4","C5","E5"],type:"minor"},"vii¬∞":{name:"B¬∞",notes:["B4","D5","F5"],type:"diminished"}},G:{I:{name:"G",notes:["G3","B3","D4"],type:"major"},ii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},iii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},IV:{name:"C",notes:["C4","E4","G4"],type:"major"},V:{name:"D",notes:["D4","F#4","A4"],type:"major"},vi:{name:"Em",notes:["E4","G4","B4"],type:"minor"},"vii¬∞":{name:"F#¬∞",notes:["F#4","A4","C5"],type:"diminished"}},D:{I:{name:"D",notes:["D3","F#3","A3"],type:"major"},ii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},iii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},IV:{name:"G",notes:["G3","B3","D4"],type:"major"},V:{name:"A",notes:["A3","C#4","E4"],type:"major"},vi:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},"vii¬∞":{name:"C#¬∞",notes:["C#4","E4","G4"],type:"diminished"}},A:{I:{name:"A",notes:["A3","C#4","E4"],type:"major"},ii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},iii:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},IV:{name:"D",notes:["D4","F#4","A4"],type:"major"},V:{name:"E",notes:["E4","G#4","B4"],type:"major"},vi:{name:"F#m",notes:["F#4","A4","C#5"],type:"minor"},"vii¬∞":{name:"G#¬∞",notes:["G#4","B4","D5"],type:"diminished"}},E:{I:{name:"E",notes:["E3","G#3","B3"],type:"major"},ii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},iii:{name:"G#m",notes:["G#3","B3","D#4"],type:"minor"},IV:{name:"A",notes:["A3","C#4","E4"],type:"major"},V:{name:"B",notes:["B3","D#4","F#4"],type:"major"},vi:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},"vii¬∞":{name:"D#¬∞",notes:["D#4","F#4","A4"],type:"diminished"}},F:{I:{name:"F",notes:["F3","A3","C4"],type:"major"},ii:{name:"Gm",notes:["G3","Bb3","D4"],type:"minor"},iii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},IV:{name:"Bb",notes:["Bb3","D4","F4"],type:"major"},V:{name:"C",notes:["C4","E4","G4"],type:"major"},vi:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},"vii¬∞":{name:"E¬∞",notes:["E4","G4","Bb4"],type:"diminished"}}};n.useEffect(()=>{(async()=>{try{const s=new Ee(Ae,{oscillator:{type:"triangle",detune:0},envelope:{attack:.01,decay:.3,sustain:.3,release:1.5},volume:-6}),r=new Re(3e3,"lowpass"),i=new De({decay:2,wet:.3}),l=new Be({delayTime:"8n",feedback:.2,wet:.2}),x=new Fe({frequency:4,depth:.5,wet:.3}),g=new Me({delayTime:"8n",feedback:.3,wet:.2}),y=new Ie({low:0,mid:0,high:0}),S=new Le({threshold:-20,ratio:4,attack:.01,release:.1}),M=new Oe(1),J=new Pe({frequency:1,type:"sine",min:.3,max:1});J.connect(M.gain);const we={filter:r,reverb:i,delay:l,tremolo:x,flanger:g,eq:y,sidechain:S,sidechainDuck:M,sidechainLFO:J};s.connect(r),r.connect(y),y.connect(S),S.connect(M),M.connect(x),x.connect(g),g.connect(i),g.connect(l),i.toDestination(),l.toDestination(),s.effectsChain=we,le(s),m(!0);const Ne=new Ge;me(Ne)}catch(s){console.error("Failed to initialize synthesizer:",s)}})()},[]),n.useEffect(()=>{if(c){const t=parseInt(A.split("/")[0]),s=new ke(r=>{const i=Math.floor(I.position.split(":")[1])%t;oe(i),i===0&&C?new Y(1e3,"sine").toDestination().start(r).stop(r+.15):new Y(800,"sine").toDestination().start(r).stop(r+.1)},"4n");ce(s)}},[c,A,C]);const Q=t=>{if(!o||!c)return;const s=B[p][t];s&&(u.has(t)||(console.log("Triggering chord:",t,s.notes),E(r=>new Set([...r,t])),s.notes.forEach(r=>{o.triggerAttack(r),R(i=>new Set([...i,r]))})))},V=t=>{if(!o||!c)return;const s=B[p][t];s&&u.has(t)&&(console.log("Releasing chord:",t,s.notes),E(r=>{const i=new Set(r);return i.delete(t),i}),s.notes.forEach(r=>{o.triggerRelease(r),R(i=>{const l=new Set(i);return l.delete(r),l})}))},[_,F]=n.useState(new Set);n.useEffect(()=>{const t={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii¬∞"},s=l=>{const x=l.key;if(x==="Escape"){l.preventDefault(),$();return}if(t[x]&&!_.has(x)){l.preventDefault();const g=t[x];F(y=>new Set([...y,x])),Q(g)}},r=l=>{const x=l.key;if(t[x]&&_.has(x)){l.preventDefault();const g=t[x];console.log("Key up:",x,"chord:",g,"active chords:",Array.from(u)),F(y=>{const S=new Set(y);return S.delete(x),S}),V(g)}},i=()=>{console.log("Window lost focus - stopping all notes"),$()};return window.addEventListener("keydown",s),window.addEventListener("keyup",r),window.addEventListener("blur",i),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",r),window.removeEventListener("blur",i)}},[o,c,p,u,_]);const $=()=>{if(o&&c)try{console.log("Emergency stop - releasing all notes"),o.releaseAll(),E(new Set),R(new Set),F(new Set),console.log("All notes stopped")}catch(t){console.error("Error stopping notes:",t)}},he=()=>{O&&(b?(O.stop(),I.stop()):(I.bpm.value=j,O.start(),I.start()),te(!b))},pe=async()=>{try{const s=Ve.createMediaStreamDestination();o.connect(s);const r=new MediaRecorder(s.stream,{mimeType:"audio/webm;codecs=opus"}),i=[];r.ondataavailable=l=>{l.data.size>0&&i.push(l.data)},r.onstop=()=>{const l=new Blob(i,{type:"audio/webm"});K(l),P(!1),console.log("Recording complete - unlimited length:",l.size,"bytes")},r.start(1e3),ue(r),xe(i),P(!0),U(0),K(null),console.log("Recording started - Web Audio API unlimited length")}catch(t){console.error("Failed to start recording:",t)}},fe=async()=>{if(!(!W||!w))try{console.log("Stopping recording..."),W.stop(),o.disconnect(),console.log("Recording stopped - processing unlimited length audio")}catch(t){console.error("Failed to stop recording:",t),P(!1)}},H=()=>{if(!N)return;console.log("Exporting WAV file...");const t=URL.createObjectURL(N),s=document.createElement("a");s.href=t,s.download=`chordmaster-masterpiece-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.webm`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),console.log("WAV export complete")},ge=async()=>{if(N)try{console.log("Exporting MP3 file...");const t=URL.createObjectURL(N),s=document.createElement("a");s.href=t,s.download=`chordmaster-masterpiece-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.webm`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),console.log("MP3 export complete (as WebM)")}catch(t){console.error("Failed to export as MP3:",t),H()}};n.useEffect(()=>{let t=null;return w?t=setInterval(()=>{U(s=>s+1)},1e3):clearInterval(t),()=>clearInterval(t)},[w]);const be=t=>{const s=G[t];!s||!o||(o.set({oscillator:{type:s.waveform,detune:s.detune||0},envelope:s.adsr,volume:s.volume||0}),d(t),console.log(`Switched to ${s.name} instrument`))},ve=()=>{if(!o||!o.effectsChain)return;const{sidechain:t,sidechainLFO:s}=o.effectsChain;t.set({threshold:f.threshold,ratio:f.ratio,attack:f.attack,release:f.release});const r=j/60/4;s.set({frequency:r,min:.2,max:1})},ye=()=>{if(!o||!o.effectsChain)return;const{eq:t}=o.effectsChain;t.set({low:k.low,mid:k.mid,high:k.high})};n.useEffect(()=>{v.sidechain?(ve(),o&&o.effectsChain&&o.effectsChain.sidechainLFO.start()):o&&o.effectsChain&&o.effectsChain.sidechainLFO.stop()},[f,v.sidechain,j]),n.useEffect(()=>{v.eq&&ye()},[k,v.eq]);const je=t=>{o&&c&&u.size>0&&o.releaseAll(),h(t),E(new Set),R(new Set),F(new Set)};return n.useEffect(()=>()=>{o&&c&&o.releaseAll()},[o,c]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white",children:[e.jsx("header",{className:"bg-gradient-to-r from-purple-800 to-blue-800 border-b border-purple-600 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:"üéµ"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"ChordMaster"}),e.jsx("div",{className:"text-sm text-purple-200",children:"Smart Chord Synthesizer"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-full px-4 py-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c?"bg-green-400 animate-pulse":"bg-red-400"}`}),e.jsx("span",{className:"text-sm font-medium",children:c?"System Ready":"Initializing..."})]}),c&&e.jsx("button",{onClick:$,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg",children:"üõë Stop All"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-800/30 to-blue-800/30 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üéπ"}),"Sound Palette"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(G).map(([t,s])=>e.jsx("button",{onClick:()=>be(t),className:`p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-105 ${a===t?"border-purple-400 bg-purple-400/20 text-purple-300 shadow-lg shadow-purple-500/25":"border-purple-600/50 bg-purple-900/20 hover:border-purple-500 hover:bg-purple-800/30"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"text-sm font-semibold",children:s.name})]})},t))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-800/30 to-indigo-800/30 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üéº"}),"Musical Key"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["C","G","D","A","E","F"].map(t=>e.jsx("button",{onClick:()=>je(t),className:`p-4 rounded-xl border-2 font-mono text-xl font-bold transition-all duration-300 transform hover:scale-105 ${p===t?"border-blue-400 bg-blue-400/20 text-blue-300 shadow-lg shadow-blue-500/25":"border-blue-600/50 bg-blue-900/20 hover:border-blue-500 hover:bg-blue-800/30"}`,children:t},t))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-800/30 to-emerald-800/30 backdrop-blur-sm rounded-2xl p-6 border border-green-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"‚è±Ô∏è"}),"Rhythm Engine"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[1,2,3,4].map(t=>e.jsx("div",{className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${b&&q===t-1?"bg-green-400 border-green-300 scale-125":t===1?"border-green-400 bg-green-400/20":"border-green-600 bg-green-900/20"}`,children:e.jsx("div",{className:"flex items-center justify-center h-full text-xs font-bold",children:t===1?"‚óè":"‚óã"})},t))}),b&&e.jsxs("div",{className:"text-center text-green-300 font-mono text-lg",children:["Beat ",q+1," of ",A]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("button",{onClick:he,className:`w-full p-4 rounded-xl border-2 font-semibold text-lg transition-all duration-300 transform hover:scale-105 ${b?"border-green-400 bg-green-400/20 text-green-300 shadow-lg shadow-green-500/25":"border-green-600/50 bg-green-900/20 hover:border-green-500 hover:bg-green-800/30"}`,children:b?"‚è∏Ô∏è Stop Beat":"‚ñ∂Ô∏è Start Beat"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm text-green-200 font-medium",children:["Tempo: ",j," BPM"]}),e.jsx("input",{type:"range",min:"60",max:"200",value:j,onChange:t=>se(parseInt(t.target.value)),className:"w-full h-2 bg-green-900/50 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-green-300",children:[e.jsx("span",{children:"60"}),e.jsx("span",{children:"200"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-green-200 font-medium",children:"Time Signature"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["4/4","3/4","2/4","6/8"].map(t=>e.jsx("button",{onClick:()=>re(t),className:`p-2 rounded-lg border text-sm transition-all ${A===t?"border-green-400 bg-green-400/20 text-green-300":"border-green-600/50 bg-green-900/20 hover:border-green-500"}`,children:t},t))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-green-200",children:"Accent Beat 1"}),e.jsx("button",{onClick:()=>ne(!C),className:`w-12 h-6 rounded-full transition-all ${C?"bg-green-400":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${C?"translate-x-6":"translate-x-1"}`})})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-indigo-800/30 to-purple-800/30 backdrop-blur-sm rounded-2xl p-8 border border-indigo-500/30 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-3 flex items-center justify-center",children:[e.jsx("span",{className:"text-4xl mr-4",children:"üéµ"}),"Chord Matrix"]}),e.jsxs("p",{className:"text-indigo-200 text-lg",children:["Key of ",e.jsx("span",{className:"font-mono text-indigo-300 text-xl font-bold",children:p})]}),e.jsx("p",{className:"text-indigo-300/70 text-sm mt-2",children:"Press number keys 1-7 or click buttons ‚Ä¢ Hold multiple keys for polyphonic chords ‚Ä¢ ESC to stop all"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:[{number:"I",label:"1",description:"Tonic",color:"from-red-500 to-pink-500"},{number:"ii",label:"2",description:"Supertonic",color:"from-orange-500 to-red-500"},{number:"iii",label:"3",description:"Mediant",color:"from-yellow-500 to-orange-500"},{number:"IV",label:"4",description:"Subdominant",color:"from-green-500 to-yellow-500"},{number:"V",label:"5",description:"Dominant",color:"from-blue-500 to-green-500"},{number:"vi",label:"6",description:"Submediant",color:"from-indigo-500 to-blue-500"},{number:"vii¬∞",label:"7",description:"Leading Tone",color:"from-purple-500 to-indigo-500"}].map(t=>{const s=B[p][t.number],r=u.has(t.number);return e.jsx("button",{onMouseDown:()=>Q(t.number),onMouseUp:()=>V(t.number),onMouseLeave:()=>V(t.number),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 ${r?`border-white bg-gradient-to-br ${t.color} text-white shadow-2xl shadow-white/25`:"border-indigo-600/50 bg-indigo-900/20 hover:border-indigo-500 hover:bg-indigo-800/30"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-3",children:t.label}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:s.name}),e.jsx("div",{className:"text-sm text-indigo-200 mt-1",children:t.description})]})},t.number)})})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-black/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-600/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üì∫"}),"Smart Display"]}),e.jsxs("div",{className:"bg-black rounded-xl p-6 font-mono text-sm border border-gray-700",children:[e.jsx("div",{className:"text-green-400 mb-3 text-lg font-bold",children:"ChordMaster v2.0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-blue-400",children:["Key: ",e.jsx("span",{className:"text-white",children:p})]}),e.jsxs("div",{className:"text-purple-400",children:["Sound: ",e.jsx("span",{className:"text-white",children:G[a].name})]}),u.size>0&&e.jsxs("div",{className:"text-yellow-400",children:["Chords: ",e.jsx("span",{className:"text-white",children:Array.from(u).map(t=>B[p][t].name).join(", ")})]}),b&&e.jsxs("div",{className:"text-red-400",children:["Beat: ",e.jsxs("span",{className:"text-white",children:[j," BPM"]})]}),w&&e.jsxs("div",{className:"text-orange-400",children:["Recording: ",e.jsxs("span",{className:"text-white",children:[Math.floor(D/60),":",(D%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"text-gray-400 mt-3 text-xs",children:["Active Notes: ",de.size]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-800/30 to-rose-800/30 backdrop-blur-sm rounded-2xl p-6 border border-pink-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"‚ú®"}),"Sound Effects"]}),e.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(v).map(([t,s])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[e.jsx("span",{className:"text-sm capitalize text-pink-200 font-medium",children:t}),e.jsx("button",{onClick:()=>ae(r=>({...r,[t]:!s})),className:`w-14 h-7 rounded-full transition-all duration-300 ${s?"bg-pink-400":"bg-gray-600"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform duration-300 ${s?"translate-x-7":"translate-x-1"}`})})]},t))}),v.eq&&e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-pink-200 font-semibold mb-3",children:"EQ"}),e.jsx("div",{className:"space-y-3",children:Object.entries(k).map(([t,s])=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:t}),e.jsxs("span",{children:[s,"dB"]})]}),e.jsx("input",{type:"range",min:"-12",max:"12",value:s,onChange:r=>ie(i=>({...i,[t]:parseInt(r.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]},t))})]}),v.sidechain&&e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-pink-200 font-semibold mb-3",children:"Sidechain"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:"Threshold"}),e.jsxs("span",{children:[f.threshold,"dB"]})]}),e.jsx("input",{type:"range",min:"-40",max:"0",value:f.threshold,onChange:t=>z(s=>({...s,threshold:parseInt(t.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:"Ratio"}),e.jsxs("span",{children:[f.ratio,":1"]})]}),e.jsx("input",{type:"range",min:"1",max:"20",value:f.ratio,onChange:t=>z(s=>({...s,ratio:parseInt(t.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-800/30 to-red-800/30 backdrop-blur-sm rounded-2xl p-6 border border-orange-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"üéôÔ∏è"}),"Recording Studio"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:w?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"RECORDING"})]}),e.jsxs("div",{className:"text-orange-200 font-mono text-lg",children:[Math.floor(D/60),":",(D%60).toString().padStart(2,"0")]})]}):e.jsx("div",{className:"text-orange-200",children:"Ready to Record"})}),e.jsx("div",{className:"space-y-3",children:w?e.jsx("button",{onClick:fe,className:"w-full p-3 rounded-xl border-2 border-orange-500 bg-orange-500/20 text-orange-300 hover:bg-orange-500/30 transition-all duration-300 transform hover:scale-105",children:"‚èπÔ∏è Stop Recording"}):e.jsx("button",{onClick:pe,className:"w-full p-3 rounded-xl border-2 border-red-500 bg-red-500/20 text-red-300 hover:bg-red-500/30 transition-all duration-300 transform hover:scale-105",children:"üî¥ Start Recording"})}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-orange-200 text-sm text-center mb-3",children:"üéµ Masterpiece Complete! üéµ"}),e.jsxs("div",{className:"text-orange-300 text-xs text-center mb-3",children:["File size: ",(N.size/1024/1024).toFixed(2)," MB"]}),e.jsx("div",{className:"text-orange-200 text-sm text-center mb-3",children:"Export your masterpiece as:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:H,className:"p-2 rounded-lg border border-orange-600/50 bg-orange-900/20 hover:bg-orange-800/30 text-orange-200 text-sm transition-all duration-300",children:"üìÅ WebM (Unlimited Length)"}),e.jsx("button",{onClick:ge,className:"p-2 rounded-lg border border-orange-600/50 bg-orange-900/20 hover:bg-orange-800/30 text-orange-200 text-sm transition-all duration-300",children:"üéµ WebM (Compressed)"})]})]})]})]})]})]})})]})};function We(){return e.jsx(Ue,{})}T.createRoot(document.getElementById("root")).render(e.jsx(Ce.StrictMode,{children:e.jsx(We,{})}));
