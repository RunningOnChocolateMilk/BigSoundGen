import{r as a,a as De,R as Ie}from"./vendor-b1791c80.js";import{L as Be,T as V,O as H,s as G,P as Me,S as Oe,F as Pe,R as Le,a as Ve,b as Ge,c as Te,E as Ue,C as qe,G as $e,d as _e,e as We,f as F}from"./tone-42407d74.js";(function(){const x=document.createElement("link").relList;if(x&&x.supports&&x.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))f(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function v(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function f(c){if(c.ep)return;c.ep=!0;const u=v(c);fetch(c.href,u)}})();var re={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze=a,Ke=Symbol.for("react.element"),Qe=Symbol.for("react.fragment"),He=Object.prototype.hasOwnProperty,Je=ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ye={key:!0,ref:!0,__self:!0,__source:!0};function ae(m,x,v){var f,c={},u=null,h=null;v!==void 0&&(u=""+v),x.key!==void 0&&(u=""+x.key),x.ref!==void 0&&(h=x.ref);for(f in x)He.call(x,f)&&!Ye.hasOwnProperty(f)&&(c[f]=x[f]);if(m&&m.defaultProps)for(f in x=m.defaultProps,x)c[f]===void 0&&(c[f]=x[f]);return{$$typeof:Ke,type:m,key:u,ref:h,props:c,_owner:Je.current}}T.Fragment=Qe;T.jsx=ae;T.jsxs=ae;re.exports=T;var e=re.exports,J={},ne=De;J.createRoot=ne.createRoot,J.hydrateRoot=ne.hydrateRoot;const Xe=()=>{const[m,x]=a.useState(!1),[v,f]=a.useState("C"),[c,u]=a.useState("piano"),[h,I]=a.useState(new Set);a.useState("major");const[i,N]=a.useState({attack:.02,decay:.3,sustain:.4,release:1.2,volume:-6,detune:0,filterCutoff:3e3,filterResonance:.5,oscillatorType:"triangle"}),[S,oe]=a.useState(!1),[y,ie]=a.useState(120),[B,le]=a.useState("4/4"),[R,ce]=a.useState(!0),[Y,de]=a.useState(0),[k,me]=a.useState({reverb:!1,delay:!1,tremolo:!1,flanger:!1,sidechain:!1,eq:!1}),[D,ue]=a.useState({low:0,lowMid:0,mid:0,highMid:0,high:0}),[w,U]=a.useState({threshold:-20,ratio:4,attack:.01,release:.1,speed:"quarter"});a.useState("chord");const[r,xe]=a.useState(null),[q,he]=a.useState(null),[pe,M]=a.useState(new Set),[E,$]=a.useState(!1),[et,fe]=a.useState(null),[A,X]=a.useState(null),[O,Z]=a.useState(0);a.useState(null),a.useState([]);const[ee,ge]=a.useState(null),_={piano:{name:"Piano",icon:"🎹",waveform:"triangle",adsr:{attack:.01,decay:.3,sustain:.3,release:1.5},filterCutoff:3e3,effects:{reverb:!0,delay:!1},detune:0,volume:-6},synth:{name:"Synth",icon:"🎛️",waveform:"sawtooth",adsr:{attack:.1,decay:.3,sustain:.7,release:.8},filterCutoff:1200,effects:{reverb:!1,delay:!0},detune:0,volume:-3},bass:{name:"Bass",icon:"🎸",waveform:"square",adsr:{attack:.05,decay:.2,sustain:.8,release:.4},filterCutoff:300,effects:{reverb:!1,delay:!1},detune:0,volume:-2},pad:{name:"Pad",icon:"☁️",waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.9,release:3},filterCutoff:600,effects:{reverb:!0,delay:!0},detune:0,volume:-8},lead:{name:"Lead",icon:"🎷",waveform:"sawtooth",adsr:{attack:.02,decay:.1,sustain:.9,release:.3},filterCutoff:2e3,effects:{reverb:!0,delay:!1},detune:0,volume:-4},organ:{name:"Organ",icon:"🎹",waveform:"square",adsr:{attack:0,decay:0,sustain:1,release:.05},filterCutoff:1500,effects:{reverb:!0,delay:!1},detune:0,volume:-5},strings:{name:"Strings",icon:"🎻",waveform:"triangle",adsr:{attack:.5,decay:1,sustain:.8,release:2.5},filterCutoff:2500,effects:{reverb:!0,delay:!1},detune:0,volume:-7},brass:{name:"Brass",icon:"🎺",waveform:"sawtooth",adsr:{attack:.1,decay:.4,sustain:.7,release:.8},filterCutoff:1800,effects:{reverb:!0,delay:!1},detune:0,volume:-4},choir:{name:"Choir",icon:"👥",waveform:"sine",adsr:{attack:.3,decay:.8,sustain:.9,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!0},detune:0,volume:-6},bell:{name:"Bell",icon:"🔔",waveform:"triangle",adsr:{attack:0,decay:.1,sustain:.1,release:3},filterCutoff:4e3,effects:{reverb:!0,delay:!1},detune:0,volume:-8},pluck:{name:"Pluck",icon:"🪕",waveform:"triangle",adsr:{attack:0,decay:.05,sustain:0,release:.3},filterCutoff:2e3,effects:{reverb:!1,delay:!0},detune:0,volume:-3},ambient:{name:"Ambient",icon:"🌌",waveform:"sine",adsr:{attack:3,decay:2,sustain:.9,release:5},filterCutoff:800,effects:{reverb:!0,delay:!0},detune:0,volume:-10}},P={C:{I:{name:"C",notes:["C4","E4","G4"],type:"major"},ii:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},iii:{name:"Em",notes:["E4","G4","B4"],type:"minor"},IV:{name:"F",notes:["F4","A4","C5"],type:"major"},V:{name:"G",notes:["G4","B4","D5"],type:"major"},vi:{name:"Am",notes:["A4","C5","E5"],type:"minor"},"vii°":{name:"B°",notes:["B4","D5","F5"],type:"diminished"}},G:{I:{name:"G",notes:["G3","B3","D4"],type:"major"},ii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},iii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},IV:{name:"C",notes:["C4","E4","G4"],type:"major"},V:{name:"D",notes:["D4","F#4","A4"],type:"major"},vi:{name:"Em",notes:["E4","G4","B4"],type:"minor"},"vii°":{name:"F#°",notes:["F#4","A4","C5"],type:"diminished"}},D:{I:{name:"D",notes:["D3","F#3","A3"],type:"major"},ii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},iii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},IV:{name:"G",notes:["G3","B3","D4"],type:"major"},V:{name:"A",notes:["A3","C#4","E4"],type:"major"},vi:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},"vii°":{name:"C#°",notes:["C#4","E4","G4"],type:"diminished"}},A:{I:{name:"A",notes:["A3","C#4","E4"],type:"major"},ii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},iii:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},IV:{name:"D",notes:["D4","F#4","A4"],type:"major"},V:{name:"E",notes:["E4","G#4","B4"],type:"major"},vi:{name:"F#m",notes:["F#4","A4","C#5"],type:"minor"},"vii°":{name:"G#°",notes:["G#4","B4","D5"],type:"diminished"}},E:{I:{name:"E",notes:["E3","G#3","B3"],type:"major"},ii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},iii:{name:"G#m",notes:["G#3","B3","D#4"],type:"minor"},IV:{name:"A",notes:["A3","C#4","E4"],type:"major"},V:{name:"B",notes:["B3","D#4","F#4"],type:"major"},vi:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},"vii°":{name:"D#°",notes:["D#4","F#4","A4"],type:"diminished"}},F:{I:{name:"F",notes:["F3","A3","C4"],type:"major"},ii:{name:"Gm",notes:["G3","Bb3","D4"],type:"minor"},iii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},IV:{name:"Bb",notes:["Bb3","D4","F4"],type:"major"},V:{name:"C",notes:["C4","E4","G4"],type:"major"},vi:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},"vii°":{name:"E°",notes:["E4","G4","Bb4"],type:"diminished"}}};a.useEffect(()=>{(async()=>{try{await G(),console.log("Tone.js initialized");const s=new Me(Oe,{oscillator:{type:"triangle",detune:0},envelope:{attack:.01,decay:.3,sustain:.3,release:1.5},volume:-6}),n=new Pe(3e3,"lowpass"),l=new Le({decay:2,wet:.3}),d=new Ve({delayTime:"8n",feedback:.2,wet:.2}),o=new Ge({frequency:4,depth:.5,wet:.3}),p=new Te({delayTime:"8n",feedback:.3,wet:.2}),g=new Ue({low:0,mid:0,high:0}),b=new qe({threshold:-20,ratio:4,attack:.01,release:.1}),j=new $e(1),C=new _e({frequency:1,type:"sine",min:.3,max:1});C.connect(j.gain);const Q={filter:n,reverb:l,delay:d,tremolo:o,flanger:p,eq:g,sidechain:b,sidechainDuck:j,sidechainLFO:C};s.connect(n),n.connect(g),g.connect(b),b.connect(j),j.connect(o),o.connect(p),p.connect(l),l.connect(d),d.toDestination(),s.effectsChain=Q,xe(s),x(!0);const Re=new We;fe(Re)}catch(s){console.error("Failed to initialize synthesizer:",s)}})()},[]),a.useEffect(()=>{if(m){const t=parseInt(B.split("/")[0]),s=new Be(n=>{const l=Math.floor(V.position.split(":")[1])%t;de(l),l===0&&R?new H(1e3,"sine").toDestination().start(n).stop(n+.15):new H(800,"sine").toDestination().start(n).stop(n+.1)},"4n");he(s)}},[m,B,R]);const te=async t=>{if(!r||!m)return;F.state!=="running"&&await G();const s=P[v][t];s&&(h.has(t)||(console.log("Triggering chord:",t,s.notes),console.log("Synth state:",r),console.log("Audio context state:",F.state),I(n=>new Set([...n,t])),s.notes.forEach(n=>{console.log("Playing note:",n),r.triggerAttack(n),M(l=>new Set([...l,n]))})))},W=t=>{if(!r||!m)return;const s=P[v][t];s&&h.has(t)&&(console.log("Releasing chord:",t,s.notes),I(n=>{const l=new Set(n);return l.delete(t),l}),s.notes.forEach(n=>{r.triggerRelease(n),M(l=>{const d=new Set(l);return d.delete(n),d})}))},[z,L]=a.useState(new Set);a.useEffect(()=>{const t={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"},s=d=>{const o=d.key;if(o==="Escape"){d.preventDefault(),K();return}if(t[o]&&!z.has(o)){d.preventDefault();const p=t[o];L(g=>new Set([...g,o])),te(p)}},n=d=>{const o=d.key;if(t[o]&&z.has(o)){d.preventDefault();const p=t[o];console.log("Key up:",o,"chord:",p,"active chords:",Array.from(h)),L(g=>{const b=new Set(g);return b.delete(o),b}),W(p)}},l=()=>{console.log("Window lost focus - stopping all notes"),K()};return window.addEventListener("keydown",s),window.addEventListener("keyup",n),window.addEventListener("blur",l),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",n),window.removeEventListener("blur",l)}},[r,m,v,h,z]);const K=()=>{if(r&&m)try{console.log("Emergency stop - releasing all notes"),r.releaseAll(),I(new Set),M(new Set),L(new Set),console.log("All notes stopped")}catch(t){console.error("Error stopping notes:",t)}},be=()=>{q&&(S?(q.stop(),V.stop()):(V.bpm.value=y,q.start(),V.start()),oe(!S))},ve=async()=>{try{const t=F,s=4096,n=t.createScriptProcessor(s,2,2),l=[],d=[];n.onaudioprocess=o=>{const p=o.inputBuffer.getChannelData(0),g=o.inputBuffer.getChannelData(1);l.push(new Float32Array(p)),d.push(new Float32Array(g))},r.connect(n),n.connect(t.destination),ge({recorder:n,leftChannel:l,rightChannel:d}),$(!0),Z(0),X(null),console.log("Recording started - Professional WAV unlimited length")}catch(t){console.error("Failed to start recording:",t)}},je=async()=>{if(!(!ee||!E))try{console.log("Stopping recording...");const{recorder:t,leftChannel:s,rightChannel:n}=ee;r.disconnect(t),t.disconnect();const l=s[0].length*s.length,d=F.sampleRate,o=we(s,n,d);X(o),$(!1),console.log("Recording stopped - Professional WAV created:",o.size,"bytes")}catch(t){console.error("Failed to stop recording:",t),$(!1)}},se=()=>{if(!A)return;console.log("Exporting professional WAV file...");const t=URL.createObjectURL(A),s=document.createElement("a");s.href=t,s.download=`chordmaster-masterpiece-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.wav`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),console.log("Professional WAV export complete")},ye=async()=>{if(A)try{console.log("Exporting WAV file (MP3 button exports WAV)...");const t=URL.createObjectURL(A),s=document.createElement("a");s.href=t,s.download=`chordmaster-masterpiece-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.wav`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),console.log("WAV export complete")}catch(t){console.error("Failed to export audio:",t),se()}},we=(t,s,n)=>{const l=t[0].length*t.length,d=new ArrayBuffer(44+l*2*2),o=new DataView(d),p=(b,j)=>{for(let C=0;C<j.length;C++)o.setUint8(b+C,j.charCodeAt(C))};p(0,"RIFF"),o.setUint32(4,36+l*2*2,!0),p(8,"WAVE"),p(12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,2,!0),o.setUint32(24,n,!0),o.setUint32(28,n*2*2,!0),o.setUint16(32,2*2,!0),o.setUint16(34,16,!0),p(36,"data"),o.setUint32(40,l*2*2,!0);let g=44;for(let b=0;b<t.length;b++)for(let j=0;j<t[b].length;j++){const C=Math.max(-1,Math.min(1,t[b][j]));o.setInt16(g,C*32767,!0),g+=2;const Q=Math.max(-1,Math.min(1,s[b][j]));o.setInt16(g,Q*32767,!0),g+=2}return new Blob([d],{type:"audio/wav"})};a.useEffect(()=>{let t=null;return E?t=setInterval(()=>{Z(s=>s+1)},1e3):clearInterval(t),()=>clearInterval(t)},[E]);const Ne=t=>{const s=_[t];!s||!r||(r.set({oscillator:{type:s.waveform,detune:s.detune||0},envelope:s.adsr,volume:s.volume||0}),u(t),console.log(`Switched to ${s.name} instrument`))},Ce=()=>{!r||!m||(r.set({oscillator:{type:i.oscillatorType,detune:i.detune},envelope:{attack:i.attack,decay:i.decay,sustain:i.sustain,release:i.release},volume:i.volume}),r.effectsChain&&r.effectsChain.filter&&r.effectsChain.filter.set({frequency:i.filterCutoff,Q:i.filterResonance,type:"lowpass"}))},Se=()=>{if(!r||!r.effectsChain)return;const{sidechain:t,sidechainLFO:s}=r.effectsChain;t.set({threshold:w.threshold,ratio:w.ratio,attack:w.attack,release:w.release});let n;switch(w.speed){case"whole":n=y/60/1;break;case"half":n=y/60/2;break;case"quarter":n=y/60/4;break;case"eighth":n=y/60/8;break;case"sixteenth":n=y/60/16;break;default:n=y/60/4}s.set({frequency:n,min:.2,max:1})},ke=()=>{if(!r||!r.effectsChain)return;const{eq:t}=r.effectsChain;t.set({low:D.low,mid:D.mid,high:D.high})};a.useEffect(()=>{k.sidechain?(Se(),r&&r.effectsChain&&r.effectsChain.sidechainLFO.start()):r&&r.effectsChain&&r.effectsChain.sidechainLFO.stop()},[w,k.sidechain,y]),a.useEffect(()=>{k.eq&&ke()},[D,k.eq]),a.useEffect(()=>{Ce()},[i,r,m]);const Ee=t=>{r&&m&&h.size>0&&r.releaseAll(),f(t),I(new Set),M(new Set),L(new Set)};a.useEffect(()=>()=>{r&&m&&r.releaseAll()},[r,m]);const Ae=async()=>{F.state!=="running"&&(await G(),console.log("Audio context started by user interaction"))},Fe=async()=>{F.state!=="running"&&await G(),new H(440,"sine").toDestination().start().stop("+0.5"),console.log("Test audio played")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white",onClick:Ae,children:[e.jsx("header",{className:"bg-gradient-to-r from-purple-800 to-blue-800 border-b border-purple-600 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:"🎵"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"ChordMaster"}),e.jsx("div",{className:"text-sm text-purple-200",children:"Smart Chord Synthesizer"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 bg-white/10 rounded-full px-4 py-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${m?"bg-green-400 animate-pulse":"bg-red-400"}`}),e.jsx("span",{className:"text-sm font-medium",children:m?"System Ready":"Initializing..."})]}),m&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:K,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg",children:"🛑 Stop All"}),e.jsx("button",{onClick:Fe,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg",children:"🔊 Test Audio"})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-800/30 to-blue-800/30 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🎹"}),"Sound Palette"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(_).map(([t,s])=>e.jsx("button",{onClick:()=>Ne(t),className:`p-4 rounded-xl border-2 transition-all duration-300 transform hover:scale-105 ${c===t?"border-purple-400 bg-purple-400/20 text-purple-300 shadow-lg shadow-purple-500/25":"border-purple-600/50 bg-purple-900/20 hover:border-purple-500 hover:bg-purple-800/30"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"text-sm font-semibold",children:s.name})]})},t))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-800/30 to-purple-800/30 backdrop-blur-sm rounded-2xl p-6 border border-indigo-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🎛️"}),"Instrument Controls"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-indigo-200 font-semibold",children:"ADSR Envelope"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Attack"}),e.jsxs("span",{children:[i.attack.toFixed(2),"s"]})]}),e.jsx("input",{type:"range",min:"0.001",max:"2",step:"0.01",value:i.attack,onChange:t=>N(s=>({...s,attack:parseFloat(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Decay"}),e.jsxs("span",{children:[i.decay.toFixed(2),"s"]})]}),e.jsx("input",{type:"range",min:"0.01",max:"2",step:"0.01",value:i.decay,onChange:t=>N(s=>({...s,decay:parseFloat(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Sustain"}),e.jsx("span",{children:i.sustain.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:i.sustain,onChange:t=>N(s=>({...s,sustain:parseFloat(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Release"}),e.jsxs("span",{children:[i.release.toFixed(2),"s"]})]}),e.jsx("input",{type:"range",min:"0.01",max:"5",step:"0.01",value:i.release,onChange:t=>N(s=>({...s,release:parseFloat(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-indigo-200 font-semibold",children:"Oscillator"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-indigo-300",children:"Waveform"}),e.jsxs("select",{value:i.oscillatorType,onChange:t=>N(s=>({...s,oscillatorType:t.target.value})),className:"w-full p-2 rounded-lg bg-indigo-900/30 text-indigo-300 border border-indigo-600/50",children:[e.jsx("option",{value:"sine",children:"Sine"}),e.jsx("option",{value:"triangle",children:"Triangle"}),e.jsx("option",{value:"sawtooth",children:"Sawtooth"}),e.jsx("option",{value:"square",children:"Square"}),e.jsx("option",{value:"fatsawtooth",children:"Fat Sawtooth"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Detune"}),e.jsxs("span",{children:[i.detune,"¢"]})]}),e.jsx("input",{type:"range",min:"-100",max:"100",value:i.detune,onChange:t=>N(s=>({...s,detune:parseInt(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-indigo-200 font-semibold",children:"Filter"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Cutoff"}),e.jsxs("span",{children:[i.filterCutoff,"Hz"]})]}),e.jsx("input",{type:"range",min:"100",max:"8000",value:i.filterCutoff,onChange:t=>N(s=>({...s,filterCutoff:parseInt(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Resonance"}),e.jsx("span",{children:i.filterResonance.toFixed(1)})]}),e.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:i.filterResonance,onChange:t=>N(s=>({...s,filterResonance:parseFloat(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-indigo-300",children:[e.jsx("span",{children:"Volume"}),e.jsxs("span",{children:[i.volume,"dB"]})]}),e.jsx("input",{type:"range",min:"-30",max:"0",value:i.volume,onChange:t=>N(s=>({...s,volume:parseInt(t.target.value)})),className:"w-full h-1 bg-indigo-900/50 rounded-lg appearance-none cursor-pointer"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-800/30 to-indigo-800/30 backdrop-blur-sm rounded-2xl p-6 border border-blue-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🎼"}),"Musical Key"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["C","G","D","A","E","F"].map(t=>e.jsx("button",{onClick:()=>Ee(t),className:`p-4 rounded-xl border-2 font-mono text-xl font-bold transition-all duration-300 transform hover:scale-105 ${v===t?"border-blue-400 bg-blue-400/20 text-blue-300 shadow-lg shadow-blue-500/25":"border-blue-600/50 bg-blue-900/20 hover:border-blue-500 hover:bg-blue-800/30"}`,children:t},t))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-800/30 to-emerald-800/30 backdrop-blur-sm rounded-2xl p-6 border border-green-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"⏱️"}),"Rhythm Engine"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[1,2,3,4].map(t=>e.jsx("div",{className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${S&&Y===t-1?"bg-green-400 border-green-300 scale-125":t===1?"border-green-400 bg-green-400/20":"border-green-600 bg-green-900/20"}`,children:e.jsx("div",{className:"flex items-center justify-center h-full text-xs font-bold",children:t===1?"●":"○"})},t))}),S&&e.jsxs("div",{className:"text-center text-green-300 font-mono text-lg",children:["Beat ",Y+1," of ",B]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("button",{onClick:be,className:`w-full p-4 rounded-xl border-2 font-semibold text-lg transition-all duration-300 transform hover:scale-105 ${S?"border-green-400 bg-green-400/20 text-green-300 shadow-lg shadow-green-500/25":"border-green-600/50 bg-green-900/20 hover:border-green-500 hover:bg-green-800/30"}`,children:S?"⏸️ Stop Beat":"▶️ Start Beat"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-sm text-green-200 font-medium",children:["Tempo: ",y," BPM"]}),e.jsx("input",{type:"range",min:"60",max:"200",value:y,onChange:t=>ie(parseInt(t.target.value)),className:"w-full h-2 bg-green-900/50 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-green-300",children:[e.jsx("span",{children:"60"}),e.jsx("span",{children:"200"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-green-200 font-medium",children:"Time Signature"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["4/4","3/4","2/4","6/8"].map(t=>e.jsx("button",{onClick:()=>le(t),className:`p-2 rounded-lg border text-sm transition-all ${B===t?"border-green-400 bg-green-400/20 text-green-300":"border-green-600/50 bg-green-900/20 hover:border-green-500"}`,children:t},t))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-green-200",children:"Accent Beat 1"}),e.jsx("button",{onClick:()=>ce(!R),className:`w-12 h-6 rounded-full transition-all ${R?"bg-green-400":"bg-gray-600"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${R?"translate-x-6":"translate-x-1"}`})})]})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-indigo-800/30 to-purple-800/30 backdrop-blur-sm rounded-2xl p-8 border border-indigo-500/30 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-3 flex items-center justify-center",children:[e.jsx("span",{className:"text-4xl mr-4",children:"🎵"}),"Chord Matrix"]}),e.jsxs("p",{className:"text-indigo-200 text-lg",children:["Key of ",e.jsx("span",{className:"font-mono text-indigo-300 text-xl font-bold",children:v})]}),e.jsx("p",{className:"text-indigo-300/70 text-sm mt-2",children:"Press number keys 1-7 or click buttons • Hold multiple keys for polyphonic chords • ESC to stop all"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:[{number:"I",label:"1",description:"Tonic",color:"from-red-500 to-pink-500"},{number:"ii",label:"2",description:"Supertonic",color:"from-orange-500 to-red-500"},{number:"iii",label:"3",description:"Mediant",color:"from-yellow-500 to-orange-500"},{number:"IV",label:"4",description:"Subdominant",color:"from-green-500 to-yellow-500"},{number:"V",label:"5",description:"Dominant",color:"from-blue-500 to-green-500"},{number:"vi",label:"6",description:"Submediant",color:"from-indigo-500 to-blue-500"},{number:"vii°",label:"7",description:"Leading Tone",color:"from-purple-500 to-indigo-500"}].map(t=>{const s=P[v][t.number],n=h.has(t.number);return e.jsx("button",{onMouseDown:()=>te(t.number),onMouseUp:()=>W(t.number),onMouseLeave:()=>W(t.number),className:`p-6 rounded-2xl border-2 transition-all duration-300 transform hover:scale-105 ${n?`border-white bg-gradient-to-br ${t.color} text-white shadow-2xl shadow-white/25`:"border-indigo-600/50 bg-indigo-900/20 hover:border-indigo-500 hover:bg-indigo-800/30"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold mb-3",children:t.label}),e.jsx("div",{className:"text-lg font-mono font-semibold",children:s.name}),e.jsx("div",{className:"text-sm text-indigo-200 mt-1",children:t.description})]})},t.number)})})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/50 to-black/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-600/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"📺"}),"Smart Display"]}),e.jsxs("div",{className:"bg-black rounded-xl p-6 font-mono text-sm border border-gray-700",children:[e.jsx("div",{className:"text-green-400 mb-3 text-lg font-bold",children:"ChordMaster v2.0"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-blue-400",children:["Key: ",e.jsx("span",{className:"text-white",children:v})]}),e.jsxs("div",{className:"text-purple-400",children:["Sound: ",e.jsx("span",{className:"text-white",children:_[c].name})]}),h.size>0&&e.jsxs("div",{className:"text-yellow-400",children:["Chords: ",e.jsx("span",{className:"text-white",children:Array.from(h).map(t=>P[v][t].name).join(", ")})]}),S&&e.jsxs("div",{className:"text-red-400",children:["Beat: ",e.jsxs("span",{className:"text-white",children:[y," BPM"]})]}),E&&e.jsxs("div",{className:"text-orange-400",children:["Recording: ",e.jsxs("span",{className:"text-white",children:[Math.floor(O/60),":",(O%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"text-gray-400 mt-3 text-xs",children:["Active Notes: ",pe.size]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-800/30 to-rose-800/30 backdrop-blur-sm rounded-2xl p-6 border border-pink-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"✨"}),"Sound Effects"]}),e.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(k).map(([t,s])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[e.jsx("span",{className:"text-sm capitalize text-pink-200 font-medium",children:t}),e.jsx("button",{onClick:()=>me(n=>({...n,[t]:!s})),className:`w-14 h-7 rounded-full transition-all duration-300 ${s?"bg-pink-400":"bg-gray-600"}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform duration-300 ${s?"translate-x-7":"translate-x-1"}`})})]},t))}),k.eq&&e.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-pink-200 font-semibold mb-3",children:"EQ"}),e.jsx("div",{className:"space-y-3",children:Object.entries(D).map(([t,s])=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:t}),e.jsxs("span",{children:[s,"dB"]})]}),e.jsx("input",{type:"range",min:"-12",max:"12",value:s,onChange:n=>ue(l=>({...l,[t]:parseInt(n.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]},t))})]}),k.sidechain&&e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("h3",{className:"text-pink-200 font-semibold mb-3",children:"Sidechain"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:"Threshold"}),e.jsxs("span",{children:[w.threshold,"dB"]})]}),e.jsx("input",{type:"range",min:"-40",max:"0",value:w.threshold,onChange:t=>U(s=>({...s,threshold:parseInt(t.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-pink-300",children:[e.jsx("span",{children:"Ratio"}),e.jsxs("span",{children:[w.ratio,":1"]})]}),e.jsx("input",{type:"range",min:"1",max:"20",value:w.ratio,onChange:t=>U(s=>({...s,ratio:parseInt(t.target.value)})),className:"w-full h-1 bg-pink-900/50 rounded-lg appearance-none cursor-pointer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-pink-300",children:"Speed"}),e.jsx("div",{className:"grid grid-cols-5 gap-1",children:[{value:"whole",label:"♩",name:"Whole"},{value:"half",label:"♪",name:"Half"},{value:"quarter",label:"♫",name:"Quarter"},{value:"eighth",label:"♬",name:"Eighth"},{value:"sixteenth",label:"♭",name:"16th"}].map(t=>e.jsxs("button",{onClick:()=>U(s=>({...s,speed:t.value})),className:`p-2 rounded-lg text-xs transition-all duration-300 ${w.speed===t.value?"bg-pink-500 text-white shadow-lg":"bg-pink-900/30 text-pink-300 hover:bg-pink-800/50"}`,title:t.name,children:[e.jsx("div",{className:"text-lg",children:t.label}),e.jsx("div",{className:"text-xs",children:t.name})]},t.value))})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-800/30 to-red-800/30 backdrop-blur-sm rounded-2xl p-6 border border-orange-500/30 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🎙️"}),"Recording Studio"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:E?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-red-400 font-semibold",children:"RECORDING"})]}),e.jsxs("div",{className:"text-orange-200 font-mono text-lg",children:[Math.floor(O/60),":",(O%60).toString().padStart(2,"0")]})]}):e.jsx("div",{className:"text-orange-200",children:"Ready to Record"})}),e.jsx("div",{className:"space-y-3",children:E?e.jsx("button",{onClick:je,className:"w-full p-3 rounded-xl border-2 border-orange-500 bg-orange-500/20 text-orange-300 hover:bg-orange-500/30 transition-all duration-300 transform hover:scale-105",children:"⏹️ Stop Recording"}):e.jsx("button",{onClick:ve,className:"w-full p-3 rounded-xl border-2 border-red-500 bg-red-500/20 text-red-300 hover:bg-red-500/30 transition-all duration-300 transform hover:scale-105",children:"🔴 Start Recording"})}),A&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-orange-200 text-sm text-center mb-3",children:"🎵 Masterpiece Complete! 🎵"}),e.jsxs("div",{className:"text-orange-300 text-xs text-center mb-3",children:["File size: ",(A.size/1024/1024).toFixed(2)," MB"]}),e.jsx("div",{className:"text-orange-200 text-sm text-center mb-3",children:"Export your masterpiece as:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:se,className:"p-2 rounded-lg border border-orange-600/50 bg-orange-900/20 hover:bg-orange-800/30 text-orange-200 text-sm transition-all duration-300",children:"📁 WAV (Professional)"}),e.jsx("button",{onClick:ye,className:"p-2 rounded-lg border border-orange-600/50 bg-orange-900/20 hover:bg-orange-800/30 text-orange-200 text-sm transition-all duration-300",children:"🎵 WAV (Lossless)"})]})]})]})]})]})]})})]})};function Ze(){return e.jsx(Xe,{})}J.createRoot(document.getElementById("root")).render(e.jsx(Ie.StrictMode,{children:e.jsx(Ze,{})}));
