import{r,a as le,R as ie}from"./vendor-b1791c80.js";import{P as oe,S as ce,R as de,a as me,F as ue,E as xe,C as fe,T as p,c as he}from"./tone-a5652683.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const x of i.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function m(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(n){if(n.ep)return;n.ep=!0;const i=m(n);fetch(n.href,i)}})();var z={exports:{}},b={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=r,ve=Symbol.for("react.element"),ye=Symbol.for("react.fragment"),pe=Object.prototype.hasOwnProperty,be=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,je={key:!0,ref:!0,__self:!0,__source:!0};function V(h,o,m){var d,n={},i=null,x=null;m!==void 0&&(i=""+m),o.key!==void 0&&(i=""+o.key),o.ref!==void 0&&(x=o.ref);for(d in o)pe.call(o,d)&&!je.hasOwnProperty(d)&&(n[d]=o[d]);if(h&&h.defaultProps)for(d in o=h.defaultProps,o)n[d]===void 0&&(n[d]=o[d]);return{$$typeof:ve,type:h,key:i,ref:x,props:n,_owner:be.current}}b.Fragment=ye;b.jsx=V;b.jsxs=V;z.exports=b;var e=z.exports,E={},B=le;E.createRoot=B.createRoot,E.hydrateRoot=B.hydrateRoot;const Ne=()=>{const[h,o]=r.useState(!1),[m,d]=r.useState("C"),[n,i]=r.useState("piano"),[x,j]=r.useState(new Set),[Ce,R]=r.useState(new Set),[c,$]=r.useState(null),[K,q]=r.useState("00:00.0"),[U,Se]=r.useState(120),[I,N]=r.useState(!1),[D,G]=r.useState(!1),[A,H]=r.useState(!1),[W,J]=r.useState(.7),[L,w]=r.useState([{id:1,name:"Synth Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:2,name:"Drum Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:3,name:"Bass Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:4,name:"Lead Track",mute:!1,solo:!1,volume:.7,hasContent:!1}]),[f,C]=r.useState(!1),[ke,P]=r.useState(null),[Q,M]=r.useState(0),S={C:{I:{name:"C",notes:["C3","E3","G3"],type:"major"},ii:{name:"Dm",notes:["D3","F3","A3"],type:"minor"},iii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},IV:{name:"F",notes:["F3","A3","C4"],type:"major"},V:{name:"G",notes:["G3","B3","D4"],type:"major"},vi:{name:"Am",notes:["A3","C4","E4"],type:"minor"},"vii°":{name:"Bdim",notes:["B3","D4","F4"],type:"diminished"}}},F={piano:{name:"Piano",icon:"🎹",waveform:"triangle",adsr:{attack:.01,decay:.3,sustain:.3,release:1.5},filterCutoff:3e3,effects:{reverb:!0,delay:!1},detune:0,volume:-6},synth:{name:"Synth",icon:"🎛️",waveform:"sawtooth",adsr:{attack:.1,decay:.3,sustain:.7,release:.8},filterCutoff:1200,effects:{reverb:!1,delay:!0},detune:0,volume:-3},bass:{name:"Bass",icon:"🎸",waveform:"square",adsr:{attack:.05,decay:.2,sustain:.8,release:.4},filterCutoff:300,effects:{reverb:!1,delay:!1},detune:0,volume:-2},pad:{name:"Pad",icon:"☁️",waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.9,release:3},filterCutoff:600,effects:{reverb:!0,delay:!0},detune:0,volume:-8},lead:{name:"Lead",icon:"🎷",waveform:"sawtooth",adsr:{attack:.02,decay:.1,sustain:.9,release:.3},filterCutoff:2e3,effects:{reverb:!0,delay:!1},detune:0,volume:-4},organ:{name:"Organ",icon:"🎹",waveform:"square",adsr:{attack:0,decay:0,sustain:1,release:.05},filterCutoff:1500,effects:{reverb:!0,delay:!1},detune:0,volume:-5},strings:{name:"Strings",icon:"🎻",waveform:"triangle",adsr:{attack:.5,decay:1,sustain:.8,release:2.5},filterCutoff:2500,effects:{reverb:!0,delay:!1},detune:0,volume:-7},brass:{name:"Brass",icon:"🎺",waveform:"sawtooth",adsr:{attack:.1,decay:.4,sustain:.7,release:.8},filterCutoff:1800,effects:{reverb:!0,delay:!1},detune:0,volume:-4},choir:{name:"Choir",icon:"👥",waveform:"sine",adsr:{attack:.3,decay:.8,sustain:.9,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!0},detune:0,volume:-6},bell:{name:"Bell",icon:"🔔",waveform:"triangle",adsr:{attack:0,decay:.1,sustain:.1,release:3},filterCutoff:4e3,effects:{reverb:!0,delay:!1},detune:0,volume:-8},pluck:{name:"Pluck",icon:"🪕",waveform:"triangle",adsr:{attack:0,decay:.05,sustain:0,release:.3},filterCutoff:2e3,effects:{reverb:!1,delay:!0},detune:0,volume:-3},ambient:{name:"Ambient",icon:"🌌",waveform:"sine",adsr:{attack:3,decay:2,sustain:.9,release:5},filterCutoff:800,effects:{reverb:!0,delay:!0},detune:0,volume:-12}},[Y,X]=r.useState({reverb:!1,delay:!1,tremolo:!1,flanger:!1,sidechain:!1,eq:!1}),[y,g]=r.useState({attack:.1,decay:.2,sustain:.7,release:1.2}),[Z,T]=r.useState(2e3);r.useEffect(()=>{(async()=>{const t=new oe(ce,{oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:.7,release:1.2}}).toDestination(),a=new de(.3).toDestination(),l=new me("8n",.1).toDestination(),u=new ue(2e3,"lowpass").toDestination(),v=new xe(-10,0,10).toDestination(),O=new fe(-30,3).toDestination();t.chain(u,v,O,l,a),t.effectsChain={reverb:a,delay:l,filter:u,eq:v,compressor:O},$(t),o(!0)})()},[]);const ee=s=>{const t=F[s];if(!(!t||!c)){if(c.set({oscillator:{type:t.waveform,detune:t.detune},envelope:t.adsr,volume:t.volume}),c.effectsChain&&c.effectsChain.filter&&c.effectsChain.filter.set({frequency:t.filterCutoff}),c.effectsChain){const{reverb:a,delay:l}=c.effectsChain;t.effects.reverb?a.wet.value=.3:a.wet.value=0,t.effects.delay?l.wet.value=.1:l.wet.value=0}i(s),g(t.adsr),T(t.filterCutoff)}},_=s=>{if(!c)return;const t=S[m][s];t&&(t.notes.forEach(a=>{c.triggerAttack(a)}),j(a=>new Set([...a,s])))},k=s=>{if(!c)return;const t=S[m][s];t&&(t.notes.forEach(a=>{c.triggerRelease(a)}),j(a=>{const l=new Set(a);return l.delete(s),l}))},se=()=>{c&&(c.releaseAll(),j(new Set))},te=()=>{I?(p.stop(),N(!1)):(p.start(),N(!0))},ae=()=>{p.stop(),p.position=0,N(!1),q("00:00.0")},re=async()=>{try{const t=he.createMediaStreamDestination();c.connect(t);const a=new MediaRecorder(t.stream,{mimeType:"audio/webm;codecs=opus"}),l=[];a.ondataavailable=u=>{u.data.size>0&&l.push(u.data)},a.onstop=()=>{const u=new Blob(l,{type:"audio/webm"});P(u),C(!1)},a.start(1e3),C(!0),M(0),P(null)}catch(s){console.error("Failed to start recording:",s)}},ne=()=>{C(!1)};return r.useEffect(()=>{const s=a=>{if(a.repeat)return;const l={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};l[a.key]&&(a.preventDefault(),_(l[a.key]),R(u=>new Set([...u,a.key]))),a.key==="Escape"&&se()},t=a=>{const l={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};l[a.key]&&(a.preventDefault(),k(l[a.key]),R(u=>{const v=new Set(u);return v.delete(a.key),v}))};return window.addEventListener("keydown",s),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",t)}},[m,c]),r.useEffect(()=>{let s=null;return f?s=setInterval(()=>{M(t=>t+1)},1e3):clearInterval(s),()=>clearInterval(s)},[f]),h?e.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col",children:[e.jsxs("div",{className:"h-12 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),e.jsx("span",{className:"font-bold text-lg",children:"ChordMaster"})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"File"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Edit"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Settings"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Help"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm text-green-400",children:"Ready"}),e.jsx("div",{className:"text-sm font-semibold",children:"Untitled Project"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700",children:"Save"}),e.jsx("button",{className:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500",children:"Export"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"w-64 bg-gray-800 border-r border-gray-700 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Tracks"}),L.map(s=>e.jsxs("div",{className:"bg-gray-700 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:s.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>w(t=>t.map(a=>a.id===s.id?{...a,solo:!a.solo}:a)),className:`w-6 h-6 rounded text-xs ${s.solo?"bg-yellow-600":"bg-gray-600"}`,children:"S"}),e.jsx("button",{onClick:()=>w(t=>t.map(a=>a.id===s.id?{...a,mute:!a.mute}:a)),className:`w-6 h-6 rounded text-xs ${s.mute?"bg-red-600":"bg-gray-600"}`,children:"M"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Vol"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.volume,onChange:t=>w(a=>a.map(l=>l.id===s.id?{...l,volume:parseFloat(t.target.value)}:l)),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Pan"}),e.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:"0",className:"flex-1"})]})]})]},s.id)),e.jsx("button",{className:"w-full py-2 bg-gray-700 rounded text-sm hover:bg-gray-600",children:"+ Add Track"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"h-8 bg-gray-800 border-b border-gray-700 flex items-center px-4",children:e.jsx("div",{className:"flex gap-8 text-sm text-gray-400",children:Array.from({length:16},(s,t)=>e.jsx("div",{className:"w-8 text-center",children:t+1},t))})}),e.jsx("div",{className:"flex-1 bg-gray-900 p-4",children:e.jsx("div",{className:"space-y-2",children:L.map(s=>e.jsxs("div",{className:"h-16 bg-gray-800 rounded border border-gray-700 flex items-center px-4",children:[e.jsx("div",{className:"w-32 text-sm font-semibold",children:s.name}),e.jsx("div",{className:"flex-1 flex gap-2",children:s.hasContent?e.jsx("div",{className:"h-12 bg-blue-600 rounded flex items-center px-3",children:e.jsx("div",{className:"text-sm",children:"Audio Clip"})}):e.jsx("div",{className:"h-12 bg-gray-700 rounded flex items-center px-3 text-gray-500",children:"Empty"})})]},s.id))})})]})]}),e.jsx("div",{className:"h-64 bg-gray-800 border-t border-gray-700 p-4",children:e.jsxs("div",{className:"h-full flex gap-6",children:[e.jsxs("div",{className:"w-64",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Instruments"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(F).map(([s,t])=>e.jsx("button",{onClick:()=>ee(s),className:`p-3 rounded-lg border-2 transition-all duration-300 ${n===s?"border-blue-400 bg-blue-400/20 text-blue-300":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg mb-1",children:t.icon}),e.jsx("div",{className:"text-xs font-semibold",children:t.name})]})},s))})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Key"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["C","G","D","A","E","F"].map(s=>e.jsx("button",{onClick:()=>d(s),className:`p-3 rounded-lg border-2 font-mono text-lg font-bold transition-all duration-300 ${m===s?"border-blue-400 bg-blue-400/20 text-blue-300":"border-gray-600 bg-gray-700 hover:border-gray-500"}`,children:s},s))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Nashville Chords"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(S[m]).map(([s,t])=>e.jsxs("button",{onMouseDown:()=>_(s),onMouseUp:()=>k(s),onMouseLeave:()=>k(s),className:`p-3 rounded-lg text-sm font-semibold transition-all duration-200 ${x.has(s)?"bg-blue-600 text-white shadow-lg":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[e.jsx("div",{className:"text-xs text-gray-400",children:s}),e.jsx("div",{children:t.name})]},s))})]}),e.jsxs("div",{className:"w-48",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"ADSR"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Attack"}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.01",value:y.attack,onChange:s=>g(t=>({...t,attack:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Decay"}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.01",value:y.decay,onChange:s=>g(t=>({...t,decay:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Sustain"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:y.sustain,onChange:s=>g(t=>({...t,sustain:parseFloat(s.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Release"}),e.jsx("input",{type:"range",min:"0",max:"5",step:"0.01",value:y.release,onChange:s=>g(t=>({...t,release:parseFloat(s.target.value)})),className:"w-full"})]})]})]}),e.jsxs("div",{className:"w-48",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Effects"}),e.jsx("div",{className:"space-y-2",children:Object.entries(Y).map(([s,t])=>e.jsx("button",{onClick:()=>X(a=>({...a,[s]:!t})),className:`w-full py-2 px-3 rounded text-xs font-semibold transition-all duration-300 ${t?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Filter Cutoff"}),e.jsx("input",{type:"range",min:"100",max:"4000",step:"10",value:Z,onChange:s=>T(parseInt(s.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"w-32",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Recording"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:re,disabled:f,className:`w-full py-2 rounded text-xs font-semibold transition-all duration-300 ${f?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:f?"Recording...":"Record"}),e.jsx("button",{onClick:ne,disabled:!f,className:`w-full py-2 rounded text-xs font-semibold transition-all duration-300 ${f?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,children:"Stop"}),f&&e.jsxs("div",{className:"text-center text-xs text-gray-400",children:[Q,"s"]})]})]})]})})]}),e.jsxs("div",{className:"h-16 bg-gray-800 border-t border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:W,onChange:s=>J(parseFloat(s.target.value)),className:"w-20"})]}),e.jsx("div",{className:"text-sm font-mono",children:K})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:ae,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 6h12v12H6z"})})}),e.jsx("button",{onClick:te,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:I?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("button",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:["Key: ",m]}),e.jsxs("div",{className:"text-sm",children:["Tempo: ",U]}),e.jsx("button",{onClick:()=>G(!D),className:`px-3 py-1 rounded text-sm ${D?"bg-blue-600":"bg-gray-600"}`,children:"Loop"}),e.jsx("button",{onClick:()=>H(!A),className:`px-3 py-1 rounded text-sm ${A?"bg-yellow-600":"bg-gray-600"}`,children:"Metronome"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"-"}),e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"+"})]})]})]}):e.jsx("div",{className:"h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})})};function we(){return e.jsx(Ne,{})}E.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(we,{})}));
