import{r as g,a as O,R as N}from"./vendor-b1791c80.js";import{T as V,P as U,S as _,F as H,R as W,a as q}from"./tone-c3f615b0.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=o(s);fetch(s.href,l)}})();var B={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=g,Y=Symbol.for("react.element"),J=Symbol.for("react.fragment"),X=Object.prototype.hasOwnProperty,Q=K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function G(t,n,o){var r,s={},l=null,c=null;o!==void 0&&(l=""+o),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(c=n.ref);for(r in n)X.call(n,r)&&!Z.hasOwnProperty(r)&&(s[r]=n[r]);if(t&&t.defaultProps)for(r in n=t.defaultProps,n)s[r]===void 0&&(s[r]=n[r]);return{$$typeof:Y,type:t,key:l,ref:c,props:s,_owner:Q.current}}F.Fragment=J;F.jsx=G;F.jsxs=G;B.exports=F;var e=B.exports,P={},M=O;P.createRoot=M.createRoot,P.hydrateRoot=M.hydrateRoot;const ee=({onNoteTrigger:t,onNoteRelease:n,onStopAll:o,currentChord:r,scale:s})=>{const l=[{note:"C4",isBlack:!1,key:"a"},{note:"C#4",isBlack:!0,key:"w"},{note:"D4",isBlack:!1,key:"s"},{note:"D#4",isBlack:!0,key:"e"},{note:"E4",isBlack:!1,key:"d"},{note:"F4",isBlack:!1,key:"f"},{note:"F#4",isBlack:!0,key:"t"},{note:"G4",isBlack:!1,key:"g"},{note:"G#4",isBlack:!0,key:"y"},{note:"A4",isBlack:!1,key:"h"},{note:"A#4",isBlack:!0,key:"u"},{note:"B4",isBlack:!1,key:"j"},{note:"C5",isBlack:!1,key:"k"},{note:"C#5",isBlack:!0,key:"o"},{note:"D5",isBlack:!1,key:"l"},{note:"D#5",isBlack:!0,key:"p"},{note:"E5",isBlack:!1,key:";"},{note:"F5",isBlack:!1,key:"'"},{note:"F#5",isBlack:!0,key:"]"},{note:"G5",isBlack:!1,key:"\\"}],[c,m]=N.useState(new Set),i={major:["C4","D4","E4","F4","G4","A4","B4","C5","D5","E5","F5","G5"],minor:["C4","D4","D#4","F4","G4","G#4","A#4","C5","D5","D#5","F5","G5"],pentatonic:["C4","D4","E4","G4","A4","C5","D5","E5","G5"],blues:["C4","D#4","F4","F#4","G4","A#4","C5","D#5","F5","F#5","G5"]},b=(()=>{if(!r||!r.chords)return[];const h=r.chords[0].replace(/\d+/,""),p={C:["C","E","G"],D:["D","F#","A"],E:["E","G#","B"],F:["F","A","C"],G:["G","B","D"],A:["A","C#","E"],B:["B","D#","F#"],Am:["A","C","E"],Dm:["D","F","A"],Em:["E","G","B"],Fm:["F","G#","C"],Gm:["G","A#","D"],Bb:["Bb","D","F"]}[h]||[];return l.filter(u=>p.some(j=>u.note.includes(j))).map(u=>u.note)})(),S=i[s]||[];N.useEffect(()=>{const a=p=>{const u=l.find(j=>j.key===p.key.toLowerCase());u&&!c.has(u.note)&&(p.preventDefault(),m(j=>new Set([...j,u.note])),t(u.note))},h=p=>{const u=l.find(j=>j.key===p.key.toLowerCase());u&&c.has(u.note)&&(p.preventDefault(),m(j=>{const D=new Set(j);return D.delete(u.note),D}),n(u.note))},y=p=>{p.key==="Escape"&&(p.preventDefault(),m(new Set),o())};return window.addEventListener("keydown",a),window.addEventListener("keyup",h),window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",h),window.removeEventListener("keydown",y)}},[l,t,n,o,c]);const E=a=>{c.has(a)||(m(h=>new Set([...h,a])),t(a))},k=a=>{c.has(a)&&(m(h=>{const y=new Set(h);return y.delete(a),y}),n(a))},w=a=>{c.has(a)&&(m(h=>{const y=new Set(h);return y.delete(a),y}),n(a))},C=a=>{const h=c.has(a.note),y=b.includes(a.note),p=S.includes(a.note);return h?a.isBlack?"bg-synth-accent text-white":"bg-synth-primary text-white":y?a.isBlack?"bg-green-600 text-white border-green-500":"bg-green-500 text-white border-green-400":p?a.isBlack?"bg-blue-600 text-white border-blue-500":"bg-blue-500 text-white border-blue-400":a.isBlack?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-4 p-3 bg-synth-dark/50 rounded-lg border border-gray-700",children:e.jsxs("div",{className:"flex justify-center space-x-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-synth-primary rounded"}),e.jsx("span",{className:"text-gray-300",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Chord Tones"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Scale Notes"})]})]})}),e.jsx("div",{className:"flex",children:l.filter(a=>!a.isBlack).map((a,h)=>e.jsx("button",{className:`
              relative z-10 h-24 w-8 border transition-colors duration-100
              hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg
              ${C(a)}
            `,onMouseDown:()=>E(a.note),onMouseUp:()=>k(a.note),onMouseLeave:()=>w(a.note),style:{marginLeft:h>0?"-1px":"0"},title:`${a.note} - ${a.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-16",children:a.key.toUpperCase()})},a.note))}),e.jsx("div",{className:"absolute top-0 left-0 flex",children:l.filter(a=>a.isBlack).map((a,h)=>{const y=l.findIndex(p=>p.note===a.note)-1;return e.jsx("button",{className:`
                relative z-20 h-16 w-6 border transition-colors duration-100
                hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg ml-2
                ${C(a)}
              `,onMouseDown:()=>E(a.note),onMouseUp:()=>k(a.note),onMouseLeave:()=>w(a.note),style:{marginLeft:`${y*28-12}px`},title:`${a.note} - ${a.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-10",children:a.key.toUpperCase()})},a.note)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>{m(new Set),o()},className:"btn-secondary px-4 py-2 text-sm",children:"🛑 Stop All Notes"})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Use your computer keyboard or click the keys above"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Keys: A S D F G H J K L ; ' \\ (and W E T Y U O P ] for sharps)"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Press ",e.jsx("span",{className:"font-mono bg-gray-700 px-1 rounded",children:"ESC"}),' or click "Stop All Notes" to stop all sounds']}),e.jsx("p",{className:"text-xs text-synth-accent mt-2",children:"💡 Green keys sound great with your current chord!"})]})]})},se=({waveform:t,onWaveformChange:n})=>{var r;const o=[{value:"sine",label:"Sine",description:"Smooth, pure tone"},{value:"square",label:"Square",description:"Hollow, woody sound"},{value:"sawtooth",label:"Sawtooth",description:"Bright, buzzy"},{value:"triangle",label:"Triangle",description:"Soft, mellow"}];return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Waveform Type"}),e.jsx("select",{value:t,onChange:s=>n(s.target.value),className:`
          w-full px-3 py-2 bg-synth-dark border border-gray-600 rounded-lg
          text-white focus:outline-none focus:ring-2 focus:ring-synth-primary
          focus:border-transparent transition-all duration-200
        `,children:o.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("div",{className:"text-sm text-gray-400",children:(r=o.find(s=>s.value===t))==null?void 0:r.description}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Waveform Preview:"}),e.jsx("div",{className:"h-8 flex items-center justify-center",children:e.jsx("div",{className:`w-16 h-8 border border-synth-primary rounded ${t==="sine"?"bg-gradient-to-r from-transparent via-synth-primary to-transparent":t==="square"?"bg-synth-primary":t==="sawtooth"?"bg-gradient-to-br from-transparent to-synth-primary":"bg-gradient-to-t from-transparent to-synth-primary"}`})})]})]})},te=({adsr:t,onAdsrChange:n})=>{const o=(s,l)=>{n({...t,[s]:parseFloat(l)})},r=[{key:"attack",label:"Attack",description:"How quickly the note reaches full volume",min:0,max:2,step:.01,color:"from-red-500 to-orange-500"},{key:"decay",label:"Decay",description:"How quickly it drops to sustain level",min:0,max:2,step:.01,color:"from-orange-500 to-yellow-500"},{key:"sustain",label:"Sustain",description:"The held volume level",min:0,max:1,step:.01,color:"from-yellow-500 to-green-500"},{key:"release",label:"Release",description:"How quickly it fades when released",min:0,max:3,step:.01,color:"from-green-500 to-blue-500"}];return e.jsxs("div",{className:"space-y-4",children:[r.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:s.label}),e.jsxs("span",{className:"text-xs text-synth-accent font-mono",children:[t[s.key].toFixed(2),"s"]})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step,value:t[s.key],onChange:l=>o(s.key,l.target.value),className:`
                slider w-full h-2 rounded-lg appearance-none cursor-pointer
                bg-gradient-to-r ${s.color}
              `,style:{background:`linear-gradient(to right, 
                  ${s.color.includes("red")?"#ef4444":s.color.includes("orange")?"#f97316":s.color.includes("yellow")?"#eab308":"#22c55e"} 
                  ${(t[s.key]-s.min)/(s.max-s.min)*100}%, 
                  #374151 ${(t[s.key]-s.min)/(s.max-s.min)*100}%)`}})}),e.jsx("div",{className:"text-xs text-gray-400",children:s.description})]},s.key)),e.jsxs("div",{className:"mt-6 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Envelope Shape:"}),e.jsx("div",{className:"h-16 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"adsrGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),e.jsx("stop",{offset:"33%",stopColor:"#f97316"}),e.jsx("stop",{offset:"66%",stopColor:"#eab308"}),e.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})}),e.jsx("path",{d:`M 0,${64-t.sustain*32} 
                  L ${t.attack*20},8 
                  L ${t.attack*20+t.decay*20},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40+t.release*20},64`,stroke:"url(#adsrGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},ne=({cutoff:t,onCutoffChange:n})=>{const o=s=>{n(parseFloat(s))},r=(t-200)/1800*270-135;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 block mb-2",children:"Filter Cutoff"}),e.jsxs("div",{className:"text-lg font-mono text-synth-accent",children:[Math.round(t)," Hz"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"knob",onClick:s=>{const l=s.currentTarget.getBoundingClientRect(),c=l.left+l.width/2,m=l.top+l.height/2,b=200+(Math.atan2(s.clientY-m,s.clientX-c)+Math.PI)/(2*Math.PI)*(2e3-200);n(Math.max(200,Math.min(2e3,b)))},children:e.jsx("div",{className:"knob-indicator",style:{transform:`translateX(-50%) rotate(${r}deg)`}})})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"200",max:"2000",step:"10",value:t,onChange:s=>o(s.target.value),className:"slider w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"200 Hz"}),e.jsx("span",{children:"2000 Hz"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-synth-primary/20 text-synth-primary rounded-full text-sm",children:"Low Pass Filter"})}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Frequency Response:"}),e.jsx("div",{className:"h-12 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"filterGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0.1"})]})}),e.jsx("path",{d:`M 0,48 Q ${(t-200)/(2e3-200)*100},8 ${(t-200)/(2e3-200)*100},8 L 100,8`,stroke:"url(#filterGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},ae=({effects:t,onEffectsChange:n})=>{const o=s=>{n({...t,[s]:!t[s]})},r=[{key:"reverb",label:"Reverb",description:"Adds spatial depth and ambience",icon:"🌊"},{key:"delay",label:"Delay",description:"Creates echo and rhythmic patterns",icon:"🔄"}];return e.jsxs("div",{className:"space-y-4",children:[r.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-300",children:s.label}),e.jsx("div",{className:"text-xs text-gray-400",children:s.description})]})]}),e.jsx("button",{onClick:()=>o(s.key),className:`
                relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200
                ${t[s.key]?"bg-synth-primary":"bg-gray-600"}
              `,children:e.jsx("span",{className:`
                  inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200
                  ${t[s.key]?"translate-x-6":"translate-x-1"}
                `})})]}),e.jsxs("div",{className:"mt-2 p-2 bg-synth-darker rounded-lg",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[s.label," ",t[s.key]?"ON":"OFF"]}),e.jsx("div",{className:"h-6 flex items-center justify-center",children:t[s.key]?e.jsx("div",{className:`
                  w-full h-2 rounded-full
                  ${s.key==="reverb"?"bg-gradient-to-r from-blue-400/30 to-blue-600/30 animate-pulse":"bg-gradient-to-r from-purple-400/30 to-purple-600/30"}
                `,children:e.jsx("div",{className:`
                    h-full rounded-full
                    ${s.key==="reverb"?"bg-gradient-to-r from-blue-400 to-blue-600":"bg-gradient-to-r from-purple-400 to-purple-600"}
                    animate-pulse
                  `})}):e.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full"})})]})]},s.key)),e.jsxs("div",{className:"mt-6 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Signal Chain:"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"px-2 py-1 bg-synth-primary/20 text-synth-primary rounded",children:"Synth"}),e.jsx("span",{className:"text-gray-500",children:"→"}),e.jsx("span",{className:"px-2 py-1 bg-synth-secondary/20 text-synth-secondary rounded",children:"Filter"}),t.reverb&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:"→"}),e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded",children:"Reverb"})]}),t.delay&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:"→"}),e.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded",children:"Delay"})]}),e.jsx("span",{className:"text-gray-500",children:"→"}),e.jsx("span",{className:"px-2 py-1 bg-synth-accent/20 text-synth-accent rounded",children:"Output"})]})]})]})},re=({onRandomize:t})=>{const[n,o]=N.useState(!1),r=()=>{o(!0),t(),setTimeout(()=>{o(!1)},1e3)};return e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:r,disabled:n,className:`
          btn-primary px-6 py-3 text-lg font-semibold
          ${n?"animate-pulse":""}
          transition-all duration-300 hover:scale-105 active:scale-95
          disabled:opacity-50 disabled:cursor-not-allowed
        `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-xl ${n?"animate-spin":""}`,children:"🎲"}),e.jsx("span",{children:n?"Randomizing...":"Randomize Patch"})]})}),e.jsx("div",{className:"mt-3 text-xs text-gray-400",children:"Generate a completely random synthesizer configuration"}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"What gets randomized:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-synth-primary rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Waveform"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"ADSR"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Effects"})]})]})]})]})},le=({onPresetSelect:t,currentPreset:n})=>{const o=[{id:"ambient",name:"Ambient Dreams",description:"Soft, ethereal sounds perfect for relaxation",icon:"🌙",settings:{waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.8,release:3},filterCutoff:800,effects:{reverb:!0,delay:!0}}},{id:"electronic",name:"Electronic Dance",description:"Punchy, energetic sounds for electronic music",icon:"⚡",settings:{waveform:"sawtooth",adsr:{attack:.05,decay:.3,sustain:.7,release:.8},filterCutoff:1500,effects:{reverb:!1,delay:!0}}},{id:"classical",name:"Classical Elegance",description:"Warm, rich tones like orchestral instruments",icon:"🎼",settings:{waveform:"triangle",adsr:{attack:.3,decay:.5,sustain:.6,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!1}}},{id:"retro",name:"Retro Synth",description:"Nostalgic 80s synthesizer sounds",icon:"🎹",settings:{waveform:"square",adsr:{attack:.1,decay:.4,sustain:.5,release:1.2},filterCutoff:1e3,effects:{reverb:!0,delay:!0}}},{id:"bass",name:"Deep Bass",description:"Powerful low-end sounds for basslines",icon:"🎵",settings:{waveform:"sawtooth",adsr:{attack:.1,decay:.2,sustain:.9,release:.5},filterCutoff:400,effects:{reverb:!1,delay:!1}}},{id:"pad",name:"Atmospheric Pad",description:"Sustained, evolving textures for backgrounds",icon:"☁️",settings:{waveform:"sine",adsr:{attack:1.5,decay:2,sustain:.8,release:4},filterCutoff:600,effects:{reverb:!0,delay:!0}}}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🎨 Smart Presets"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Choose a style and let the synth configure itself!"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(r=>e.jsxs("button",{onClick:()=>t(r),className:`
              p-3 rounded-lg border transition-all duration-200 text-left
              ${n===r.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
            `,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xl",children:r.icon}),e.jsx("span",{className:"font-medium text-sm",children:r.name})]}),e.jsx("p",{className:"text-xs text-gray-400",children:r.description})]},r.id))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t(null),className:"btn-secondary px-4 py-2 text-sm",children:"🎲 Random Style"})})]})},oe=({onChordSelect:t,currentChord:n})=>{const o=[{id:"happy",name:"Happy & Uplifting",description:"Major chords that sound bright and positive",icon:"😊",chords:["C4","F4","G4","C4"],pattern:"I - IV - V - I"},{id:"sad",name:"Melancholic",description:"Minor chords for emotional, sad music",icon:"😢",chords:["Am4","Dm4","G4","Am4"],pattern:"i - iv - V - i"},{id:"jazz",name:"Jazz Sophistication",description:"Complex chords for sophisticated sounds",icon:"🎷",chords:["Cmaj74","Am74","Dm74","G74"],pattern:"Cmaj7 - Am7 - Dm7 - G7"},{id:"pop",name:"Pop Sensation",description:"Catchy progressions used in popular music",icon:"🎤",chords:["C4","Am4","F4","G4"],pattern:"I - vi - IV - V"},{id:"blues",name:"Blues Soul",description:"Classic blues progression with soul",icon:"🎸",chords:["C4","C4","F4","C4","G4","F4","C4","G4"],pattern:"I - I - IV - I - V - IV - I - V"},{id:"ambient",name:"Ambient Drift",description:"Slow, evolving chords for atmospheric music",icon:"🌊",chords:["C4","F4","Bb4","F4"],pattern:"I - IV - bVII - IV"}],[r,s]=N.useState(0);N.useState(!1);const l=i=>{t(i),s(0)},c=()=>{if(n&&n.chords){const i=(r+1)%n.chords.length;return s(i),n.chords[i]}return null},m=()=>{if(n&&n.chords){const i=r===0?n.chords.length-1:r-1;return s(i),n.chords[i]}return null};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🎵 Chord Progressions"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Play chords that sound great together!"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(i=>e.jsxs("button",{onClick:()=>l(i),className:`
              p-3 rounded-lg border transition-all duration-200 text-left
              ${(n==null?void 0:n.id)===i.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
            `,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xl",children:i.icon}),e.jsx("span",{className:"font-medium text-sm",children:i.name})]}),e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:i.description}),e.jsx("p",{className:"text-xs font-mono text-synth-accent",children:i.pattern})]},i.id))}),n&&e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-1",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Chord ",r+1," of ",n.chords.length]})]}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-3",children:[e.jsx("button",{onClick:()=>m(),className:"btn-secondary px-3 py-1 text-sm",children:"⬅️ Previous"}),e.jsx("button",{onClick:()=>c(),className:"btn-primary px-3 py-1 text-sm",children:"Next ➡️"})]}),e.jsx("div",{className:"flex justify-center space-x-1",children:n.chords.map((i,f)=>e.jsx("div",{className:`
                  w-8 h-8 rounded-full flex items-center justify-center text-xs font-mono
                  ${f===r?"bg-synth-primary text-white":"bg-gray-600 text-gray-300"}
                `,children:f+1},f))}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",e.jsx("span",{className:"font-mono text-synth-accent",children:n.chords[r]})]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t(null),className:"btn-secondary px-4 py-2 text-sm",children:"🎲 Random Progression"})})]})},ie=({currentPreset:t,currentChord:n,scale:o})=>{const[r,s]=N.useState(!0),l={ambient:{title:"🌙 Ambient Music Tips",tips:["Play slowly and let notes ring out","Use long, sustained notes for atmosphere","Try playing chords one note at a time (arpeggios)","Experiment with different octaves for depth"]},electronic:{title:"⚡ Electronic Music Tips",tips:["Play rhythmic patterns with short, punchy notes","Try repeating the same note quickly","Use the lower octave for basslines","Layer different rhythms for complexity"]},classical:{title:"🎼 Classical Music Tips",tips:["Play melodies that rise and fall naturally","Use longer notes for emotional expression","Try playing scales up and down","Experiment with dynamics (loud and soft)"]},retro:{title:"🎹 Retro Synth Tips",tips:["Play catchy, memorable melodies","Use the pentatonic scale for easy success","Try playing the same pattern in different octaves","Keep it simple and repetitive"]},bass:{title:"🎵 Bass Music Tips",tips:["Focus on the lower octave (left side of keyboard)","Play single notes with rhythm","Try playing root notes of chords","Keep it simple and groovy"]},pad:{title:"☁️ Pad Music Tips",tips:["Hold down multiple notes at once","Play chords and let them sustain","Use slow, gentle movements","Layer different chord inversions"]}},c={happy:"Play the highlighted green keys - they'll sound great together!",sad:"Try playing slower, more emotional melodies with these chords.",jazz:"Experiment with complex rhythms and syncopation.",pop:"These chords are used in countless hit songs - play catchy melodies!",blues:"Try playing the same note repeatedly, then slide to another.",ambient:"Hold down multiple notes and let them blend together."},m=l[t]||l.ambient,i=c[n==null?void 0:n.id]||"Play any notes and see what sounds good!";return e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-synth-accent",children:"🎯 Music Guidance"}),e.jsx("button",{onClick:()=>s(!r),className:"text-gray-400 hover:text-white transition-colors",children:r?"👁️":"👁️‍🗨️"})]}),r&&e.jsxs("div",{className:"space-y-4",children:[t&&e.jsxs("div",{className:"bg-synth-primary/10 border border-synth-primary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-primary mb-2",children:m.title}),e.jsx("ul",{className:"space-y-1 text-sm text-gray-300",children:m.tips.map((f,b)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsx("span",{children:f})]},b))})]}),n&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-400 mb-2",children:"🎵 Chord Progression Tips"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:i}),e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsxs("p",{children:["Pattern: ",e.jsx("span",{className:"font-mono text-green-400",children:n.pattern})]}),e.jsxs("p",{children:["Chords: ",e.jsx("span",{className:"font-mono text-green-400",children:n.chords.join(" - ")})]})]})]}),e.jsxs("div",{className:"bg-synth-secondary/10 border border-synth-secondary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-secondary mb-2",children:"💡 Quick Start Tips"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Start with the ",e.jsx("strong",{children:"green keys"})," - they always sound good!"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Try playing ",e.jsx("strong",{children:"3-4 notes"})," in a row to make melodies"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Hold down ",e.jsx("strong",{children:"multiple keys"})," at once for chords"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Don't worry about mistakes - ",e.jsx("strong",{children:"experiment freely!"})]})]})]})]}),o&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-blue-400 mb-2",children:["🎼 Scale: ",o.charAt(0).toUpperCase()+o.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-300",children:["The ",e.jsx("strong",{children:"blue keys"})," belong to this scale and will sound harmonious together."]})]})]}),!r&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"Tips are hidden"}),e.jsx("button",{onClick:()=>s(!0),className:"btn-primary px-4 py-2",children:"Show Tips"})]})]})};function ce(){const[t,n]=g.useState(null),[o,r]=g.useState(!1),[s,l]=g.useState(null),[c,m]=g.useState(""),[i,f]=g.useState("sine"),[b,S]=g.useState({attack:.1,decay:.2,sustain:.5,release:1}),[E,k]=g.useState(1e3),[w,C]=g.useState({reverb:!1,delay:!1}),[a,h]=g.useState(null),[y,p]=g.useState(null),[u,j]=g.useState("major");g.useEffect(()=>{(async()=>{try{if(m("Initializing Tone.js..."),typeof V>"u")throw new Error("Tone.js is not loaded");m("Creating synthesizer...");const x=new U(_,{oscillator:{type:i},envelope:{attack:b.attack,decay:b.decay,sustain:b.sustain,release:b.release}}).toDestination();m("Setting up audio chain...");const v=new H(E,"lowpass");x.connect(v),v.toDestination();const z=new W(2).toDestination(),L=new q("4n",.2).toDestination();w.reverb&&v.connect(z),w.delay&&v.connect(L),n(x),r(!0),m("Synthesizer ready!"),l(null)}catch(x){console.error("Failed to initialize synthesizer:",x),l(x.message),m(`Error: ${x.message}`)}})()},[]),g.useEffect(()=>{t&&o&&t.set({oscillator:{type:i},envelope:b})},[t,i,b,o]);const D=d=>{if(t&&o)try{t.triggerAttack(d),console.log("Playing note:",d)}catch(x){console.error("Error triggering note:",x)}},T=d=>{if(t&&o)try{t.triggerRelease(d),console.log("Releasing note:",d)}catch(x){console.error("Error releasing note:",x)}},I=()=>{if(t&&o)try{t.releaseAll(),console.log("Stopped all notes")}catch(d){console.error("Error stopping notes:",d)}},A=d=>{if(d)f(d.settings.waveform),S(d.settings.adsr),k(d.settings.filterCutoff),C(d.settings.effects),h(d.id),j({ambient:"major",electronic:"minor",classical:"major",retro:"pentatonic",bass:"blues",pad:"major"}[d.id]||"major");else{const x=["ambient","electronic","classical","retro","bass","pad"],v=x[Math.floor(Math.random()*x.length)];A({id:v})}},$=d=>{if(d)p(d);else{const x=[{id:"happy",chords:["C4","F4","G4","C4"],pattern:"I - IV - V - I"},{id:"sad",chords:["Am4","Dm4","G4","Am4"],pattern:"i - iv - V - i"},{id:"pop",chords:["C4","Am4","F4","G4"],pattern:"I - vi - IV - V"},{id:"blues",chords:["C4","C4","F4","C4","G4","F4","C4","G4"],pattern:"I - I - IV - I - V - IV - I - V"}],v=x[Math.floor(Math.random()*x.length)];p(v)}},R=()=>{const d=["sine","square","sawtooth","triangle"],x=d[Math.floor(Math.random()*d.length)];f(x),S({attack:Math.random()*2,decay:Math.random()*2,sustain:Math.random(),release:Math.random()*3}),k(Math.random()*2e3+200),C({reverb:Math.random()>.5,delay:Math.random()>.5}),h(null),p(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-synth-darker to-synth-dark text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-synth-primary mb-2",children:"BigSoundGen"}),e.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"Idiot-Proof Music Synthesizer"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Make great music without knowing music theory! 🎵"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(le,{onPresetSelect:A,currentPreset:a})}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(oe,{onChordSelect:$,currentChord:y})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Oscillator"}),e.jsx(se,{waveform:i,onWaveformChange:f})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"ADSR Envelope"}),e.jsx(te,{adsr:b,onAdsrChange:S})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Filter"}),e.jsx(ne,{cutoff:E,onCutoffChange:k})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Effects"}),e.jsx(ae,{effects:w,onEffectsChange:C})]}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(re,{onRandomize:R})})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Smart Keyboard"}),e.jsx(ee,{onNoteTrigger:D,onNoteRelease:T,onStopAll:I,currentChord:y,scale:u})]}),e.jsx("div",{children:e.jsx(ie,{currentPreset:a,currentChord:y,scale:u})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full ${s?"bg-red-500/20 text-red-400 border border-red-500/30":o?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s?"bg-red-400":o?"bg-green-400":"bg-yellow-400"}`}),s?"Error Loading":o?"Synthesizer Ready":"Initializing..."]}),o&&e.jsx("button",{onClick:I,className:"btn-secondary px-4 py-2 text-sm",children:"🛑 Emergency Stop"})]}),c&&e.jsx("div",{className:"text-sm text-gray-400",children:c}),s&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 max-w-md mx-auto",children:[e.jsx("div",{className:"text-red-400 font-semibold mb-2",children:"Error Details:"}),e.jsx("div",{className:"text-red-300 text-sm",children:s}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Check browser console for more details"})]})]})]})})}P.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(ce,{})}));
