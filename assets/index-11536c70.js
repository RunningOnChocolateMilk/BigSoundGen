import{r as w,a as Q,R as A}from"./vendor-b1791c80.js";import{T as Z,P as ee,S as se,F as te,R as ne,a as ae}from"./tone-c3f615b0.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const x of c.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function d(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=d(s);fetch(s.href,c)}})();var V={exports:{}},F={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=w,ie=Symbol.for("react.element"),le=Symbol.for("react.fragment"),oe=Object.prototype.hasOwnProperty,ce=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,de={key:!0,ref:!0,__self:!0,__source:!0};function O(t,l,d){var o,s={},c=null,x=null;d!==void 0&&(c=""+d),l.key!==void 0&&(c=""+l.key),l.ref!==void 0&&(x=l.ref);for(o in l)oe.call(l,o)&&!de.hasOwnProperty(o)&&(s[o]=l[o]);if(t&&t.defaultProps)for(o in l=t.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return{$$typeof:ie,type:t,key:c,ref:x,props:s,_owner:ce.current}}F.Fragment=le;F.jsx=O;F.jsxs=O;V.exports=F;var e=V.exports,B={},R=Q;B.createRoot=R.createRoot,B.hydrateRoot=R.hydrateRoot;const me=({onNoteTrigger:t,onNoteRelease:l,onStopAll:d,currentChord:o,scale:s,activeNotes:c})=>{const x=[{note:"C4",isBlack:!1,key:"a"},{note:"C#4",isBlack:!0,key:"w"},{note:"D4",isBlack:!1,key:"s"},{note:"D#4",isBlack:!0,key:"e"},{note:"E4",isBlack:!1,key:"d"},{note:"F4",isBlack:!1,key:"f"},{note:"F#4",isBlack:!0,key:"t"},{note:"G4",isBlack:!1,key:"g"},{note:"G#4",isBlack:!0,key:"y"},{note:"A4",isBlack:!1,key:"h"},{note:"A#4",isBlack:!0,key:"u"},{note:"B4",isBlack:!1,key:"j"},{note:"C5",isBlack:!1,key:"k"},{note:"C#5",isBlack:!0,key:"o"},{note:"D5",isBlack:!1,key:"l"},{note:"D#5",isBlack:!0,key:"p"},{note:"E5",isBlack:!1,key:";"},{note:"F5",isBlack:!1,key:"'"},{note:"F#5",isBlack:!0,key:"]"},{note:"G5",isBlack:!1,key:"\\"}],[y,p]=A.useState(new Set),g={major:["C4","D4","E4","F4","G4","A4","B4","C5","D5","E5","F5","G5"],minor:["C4","D4","D#4","F4","G4","G#4","A#4","C5","D5","D#5","F5","G5"],pentatonic:["C4","D4","E4","G4","A4","C5","D5","E5","G5"],blues:["C4","D#4","F4","F#4","G4","A#4","C5","D#5","F5","F#5","G5"]},k=(()=>{if(!o||!o.chords)return[];const h=o.chords[0].replace(/\d+/,""),f={C:["C","E","G"],D:["D","F#","A"],E:["E","G#","B"],F:["F","A","C"],G:["G","B","D"],A:["A","C#","E"],B:["B","D#","F#"],Am:["A","C","E"],Dm:["D","F","A"],Em:["E","G","B"],Fm:["F","G#","C"],Gm:["G","A#","D"],Bb:["Bb","D","F"]}[h]||[];return x.filter(N=>f.some(S=>N.note.includes(S))).map(N=>N.note)})(),C=g[s]||[];A.useEffect(()=>{const a=f=>{const N=x.find(S=>S.key===f.key.toLowerCase());N&&!y.has(N.note)&&(f.preventDefault(),p(S=>new Set([...S,N.note])),t(N.note))},h=f=>{const N=x.find(S=>S.key===f.key.toLowerCase());N&&y.has(N.note)&&(f.preventDefault(),p(S=>{const E=new Set(S);return E.delete(N.note),E}),l(N.note))},b=f=>{f.key==="Escape"&&(f.preventDefault(),p(new Set),d())};return window.addEventListener("keydown",a),window.addEventListener("keyup",h),window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",h),window.removeEventListener("keydown",b)}},[x,t,l,d,y]);const i=a=>{y.has(a)||(p(h=>new Set([...h,a])),t(a))},n=a=>{y.has(a)&&(p(h=>{const b=new Set(h);return b.delete(a),b}),l(a))},r=a=>{y.has(a)&&(p(h=>{const b=new Set(h);return b.delete(a),b}),l(a))},m=a=>{const h=y.has(a.note)||c&&c.has(a.note),b=k.includes(a.note),f=C.includes(a.note);return h?a.isBlack?"bg-synth-accent text-white":"bg-synth-primary text-white":b?a.isBlack?"bg-green-600 text-white border-green-500":"bg-green-500 text-white border-green-400":f?a.isBlack?"bg-blue-600 text-white border-blue-500":"bg-blue-500 text-white border-blue-400":a.isBlack?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"};return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"mb-4 p-3 bg-synth-dark/50 rounded-lg border border-gray-700",children:e.jsxs("div",{className:"flex justify-center space-x-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-synth-primary rounded"}),e.jsx("span",{className:"text-gray-300",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Chord Tones"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsx("span",{className:"text-gray-300",children:"Scale Notes"})]})]})}),e.jsx("div",{className:"flex",children:x.filter(a=>!a.isBlack).map((a,h)=>e.jsx("button",{className:`
              relative z-10 h-24 w-8 border transition-colors duration-100
              hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg
              ${m(a)}
            `,onMouseDown:()=>i(a.note),onMouseUp:()=>n(a.note),onMouseLeave:()=>r(a.note),style:{marginLeft:h>0?"-1px":"0"},title:`${a.note} - ${a.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-16",children:a.key.toUpperCase()})},a.note))}),e.jsx("div",{className:"absolute top-0 left-0 flex",children:x.filter(a=>a.isBlack).map((a,h)=>{const b=x.findIndex(f=>f.note===a.note)-1;return e.jsx("button",{className:`
                relative z-20 h-16 w-6 border transition-colors duration-100
                hover:opacity-80 active:opacity-60 rounded-b-lg shadow-lg ml-2
                ${m(a)}
              `,onMouseDown:()=>i(a.note),onMouseUp:()=>n(a.note),onMouseLeave:()=>r(a.note),style:{marginLeft:`${b*28-12}px`},title:`${a.note} - ${a.key.toUpperCase()}`,children:e.jsx("div",{className:"text-xs font-mono mt-10",children:a.key.toUpperCase()})},a.note)})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>{p(new Set),d()},className:"btn-secondary px-4 py-2 text-sm",children:"🛑 Stop All Notes"})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Use your computer keyboard or click the keys above"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Keys: A S D F G H J K L ; ' \\ (and W E T Y U O P ] for sharps)"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Press ",e.jsx("span",{className:"font-mono bg-gray-700 px-1 rounded",children:"ESC"}),' or click "Stop All Notes" to stop all sounds']}),e.jsx("p",{className:"text-xs text-synth-accent mt-2",children:"💡 Green keys sound great with your current chord!"})]})]})},xe=({waveform:t,onWaveformChange:l})=>{var o;const d=[{value:"sine",label:"Sine",description:"Smooth, pure tone"},{value:"square",label:"Square",description:"Hollow, woody sound"},{value:"sawtooth",label:"Sawtooth",description:"Bright, buzzy"},{value:"triangle",label:"Triangle",description:"Soft, mellow"}];return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Waveform Type"}),e.jsx("select",{value:t,onChange:s=>l(s.target.value),className:`
          w-full px-3 py-2 bg-synth-dark border border-gray-600 rounded-lg
          text-white focus:outline-none focus:ring-2 focus:ring-synth-primary
          focus:border-transparent transition-all duration-200
        `,children:d.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("div",{className:"text-sm text-gray-400",children:(o=d.find(s=>s.value===t))==null?void 0:o.description}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Waveform Preview:"}),e.jsx("div",{className:"h-8 flex items-center justify-center",children:e.jsx("div",{className:`w-16 h-8 border border-synth-primary rounded ${t==="sine"?"bg-gradient-to-r from-transparent via-synth-primary to-transparent":t==="square"?"bg-synth-primary":t==="sawtooth"?"bg-gradient-to-br from-transparent to-synth-primary":"bg-gradient-to-t from-transparent to-synth-primary"}`})})]})]})},he=({adsr:t,onAdsrChange:l})=>{const d=(s,c)=>{l({...t,[s]:parseFloat(c)})},o=[{key:"attack",label:"Attack",description:"How quickly the note reaches full volume",min:0,max:2,step:.01,color:"from-red-500 to-orange-500"},{key:"decay",label:"Decay",description:"How quickly it drops to sustain level",min:0,max:2,step:.01,color:"from-orange-500 to-yellow-500"},{key:"sustain",label:"Sustain",description:"The held volume level",min:0,max:1,step:.01,color:"from-yellow-500 to-green-500"},{key:"release",label:"Release",description:"How quickly it fades when released",min:0,max:3,step:.01,color:"from-green-500 to-blue-500"}];return e.jsxs("div",{className:"space-y-4",children:[o.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:s.label}),e.jsxs("span",{className:"text-xs text-synth-accent font-mono",children:[t[s.key].toFixed(2),"s"]})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"range",min:s.min,max:s.max,step:s.step,value:t[s.key],onChange:c=>d(s.key,c.target.value),className:`
                slider w-full h-2 rounded-lg appearance-none cursor-pointer
                bg-gradient-to-r ${s.color}
              `,style:{background:`linear-gradient(to right, 
                  ${s.color.includes("red")?"#ef4444":s.color.includes("orange")?"#f97316":s.color.includes("yellow")?"#eab308":"#22c55e"} 
                  ${(t[s.key]-s.min)/(s.max-s.min)*100}%, 
                  #374151 ${(t[s.key]-s.min)/(s.max-s.min)*100}%)`}})}),e.jsx("div",{className:"text-xs text-gray-400",children:s.description})]},s.key)),e.jsxs("div",{className:"mt-6 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Envelope Shape:"}),e.jsx("div",{className:"h-16 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"adsrGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),e.jsx("stop",{offset:"33%",stopColor:"#f97316"}),e.jsx("stop",{offset:"66%",stopColor:"#eab308"}),e.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})}),e.jsx("path",{d:`M 0,${64-t.sustain*32} 
                  L ${t.attack*20},8 
                  L ${t.attack*20+t.decay*20},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40},${64-t.sustain*32} 
                  L ${t.attack*20+t.decay*20+40+t.release*20},64`,stroke:"url(#adsrGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},ye=({cutoff:t,onCutoffChange:l})=>{const d=s=>{l(parseFloat(s))},o=(t-200)/1800*270-135;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300 block mb-2",children:"Filter Cutoff"}),e.jsxs("div",{className:"text-lg font-mono text-synth-accent",children:[Math.round(t)," Hz"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"knob",onClick:s=>{const c=s.currentTarget.getBoundingClientRect(),x=c.left+c.width/2,y=c.top+c.height/2,u=200+(Math.atan2(s.clientY-y,s.clientX-x)+Math.PI)/(2*Math.PI)*(2e3-200);l(Math.max(200,Math.min(2e3,u)))},children:e.jsx("div",{className:"knob-indicator",style:{transform:`translateX(-50%) rotate(${o}deg)`}})})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"200",max:"2000",step:"10",value:t,onChange:s=>d(s.target.value),className:"slider w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[e.jsx("span",{children:"200 Hz"}),e.jsx("span",{children:"2000 Hz"})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-synth-primary/20 text-synth-primary rounded-full text-sm",children:"Low Pass Filter"})}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Frequency Response:"}),e.jsx("div",{className:"h-12 relative",children:e.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"filterGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"1"}),e.jsx("stop",{offset:`${(t-200)/(2e3-200)*100}%`,stopColor:"#6366f1",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0.1"})]})}),e.jsx("path",{d:`M 0,48 Q ${(t-200)/(2e3-200)*100},8 ${(t-200)/(2e3-200)*100},8 L 100,8`,stroke:"url(#filterGradient)",strokeWidth:"2",fill:"none"})]})})]})]})},pe=({effects:t,onEffectsChange:l})=>{var y,p,g,u,k,C;const[d,o]=A.useState(!1),s=i=>{l({...t,[i]:!t[i]})},c=(i,n,r)=>{l({...t,[i]:{...t[i],[n]:r}})},x=[{name:"reverb",label:"Reverb",icon:"🌊",description:"Adds spatial depth and ambience",parameters:[{name:"roomSize",label:"Room Size",min:.1,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"delay",label:"Delay",icon:"🔄",description:"Creates echo and rhythmic patterns",parameters:[{name:"delayTime",label:"Time",min:.1,max:2,step:.1,default:.5},{name:"feedback",label:"Feedback",min:0,max:.9,step:.1,default:.3},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"tremolo",label:"Tremolo",icon:"🌊",description:"Rapid volume modulation for vintage effect",parameters:[{name:"frequency",label:"Speed",min:.1,max:20,step:.5,default:5},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.5}]},{name:"flanger",label:"Flanger",icon:"🌀",description:"Jet-like sweeping effect",parameters:[{name:"delay",label:"Delay",min:.001,max:.02,step:.001,default:.005},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"frequency",label:"Speed",min:.1,max:10,step:.1,default:1},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"chorus",label:"Chorus",icon:"🎭",description:"Thickens and widens the sound",parameters:[{name:"frequency",label:"Speed",min:.1,max:5,step:.1,default:1},{name:"delayTime",label:"Delay",min:.001,max:.01,step:.001,default:.005},{name:"depth",label:"Depth",min:0,max:1,step:.1,default:.5},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.3}]},{name:"distortion",label:"Distortion",icon:"⚡",description:"Adds grit and character",parameters:[{name:"distortion",label:"Amount",min:0,max:1,step:.1,default:.3},{name:"wet",label:"Mix",min:0,max:1,step:.1,default:.5}]}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent",children:"🎛️ Advanced Effects"}),e.jsx("button",{onClick:()=>o(!d),className:"text-gray-400 hover:text-white transition-colors",children:d?"📁":"📂"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.slice(0,4).map(i=>{var n,r,m;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:i.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-300",children:i.label}),e.jsx("div",{className:"text-xs text-gray-400",children:i.description})]})]}),e.jsx("button",{onClick:()=>s(i.name),className:`
                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200
                  ${(n=t[i.name])!=null&&n.enabled||t[i.name]===!0?"bg-synth-primary":"bg-gray-600"}
                `,children:e.jsx("span",{className:`
                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200
                    ${(r=t[i.name])!=null&&r.enabled||t[i.name]===!0?"translate-x-6":"translate-x-1"}
                  `})})]}),e.jsx("div",{className:"h-4 bg-synth-darker rounded-lg overflow-hidden",children:(m=t[i.name])!=null&&m.enabled||t[i.name]===!0?e.jsx("div",{className:"h-full bg-gradient-to-r from-synth-primary to-synth-secondary animate-pulse"}):e.jsx("div",{className:"h-full bg-gray-700"})})]},i.name)})}),d&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-4",children:"🎚️ Effect Parameters"}),x.map(i=>{var n;return!((n=t[i.name])!=null&&n.enabled)&&t[i.name]!==!0?null:e.jsxs("div",{className:"mb-6 p-4 bg-synth-dark/50 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"text-lg",children:i.icon}),e.jsx("span",{className:"font-semibold text-synth-accent",children:i.label})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.parameters.map(r=>{var a;const m=((a=t[i.name])==null?void 0:a[r.name])||r.default;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:r.label}),e.jsx("span",{className:"text-xs text-synth-accent font-mono",children:m.toFixed(r.name==="delayTime"||r.name==="delay"?3:1)})]}),e.jsx("input",{type:"range",min:r.min,max:r.max,step:r.step,value:m,onChange:h=>c(i.name,r.name,parseFloat(h.target.value)),className:"slider w-full"})]},r.name)})})]},i.name)})]}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"🌊 Low Frequency Oscillator (LFO)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"LFO Rate"}),e.jsx("input",{type:"range",min:"0.1",max:"20",step:"0.1",value:((y=t.lfo)==null?void 0:y.rate)||2,onChange:i=>c("lfo","rate",parseFloat(i.target.value)),className:"slider w-full"}),e.jsxs("div",{className:"text-xs text-synth-accent font-mono",children:[(((p=t.lfo)==null?void 0:p.rate)||2).toFixed(1)," Hz"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:"LFO Depth"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:((g=t.lfo)==null?void 0:g.depth)||.5,onChange:i=>c("lfo","depth",parseFloat(i.target.value)),className:"slider w-full"}),e.jsx("div",{className:"text-xs text-synth-accent font-mono",children:(((u=t.lfo)==null?void 0:u.depth)||.5).toFixed(1)})]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:()=>s("lfo"),className:`
                  px-3 py-1 rounded text-sm font-medium transition-colors
                  ${(k=t.lfo)!=null&&k.enabled?"bg-synth-primary text-white":"bg-gray-600 text-gray-300"}
                `,children:(C=t.lfo)!=null&&C.enabled?"LFO ON":"LFO OFF"})})]})]})]})},ue=({onRandomize:t})=>{const[l,d]=A.useState(!1),o=()=>{d(!0),t(),setTimeout(()=>{d(!1)},1e3)};return e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:o,disabled:l,className:`
          btn-primary px-6 py-3 text-lg font-semibold
          ${l?"animate-pulse":""}
          transition-all duration-300 hover:scale-105 active:scale-95
          disabled:opacity-50 disabled:cursor-not-allowed
        `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-xl ${l?"animate-spin":""}`,children:"🎲"}),e.jsx("span",{children:l?"Randomizing...":"Randomize Patch"})]})}),e.jsx("div",{className:"mt-3 text-xs text-gray-400",children:"Generate a completely random synthesizer configuration"}),e.jsxs("div",{className:"mt-4 p-3 bg-synth-darker rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"What gets randomized:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-synth-primary rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Waveform"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"ADSR"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-gray-300",children:"Effects"})]})]})]})]})},ge=({onPresetSelect:t,currentPreset:l})=>{const d=[{id:"ambient",name:"Ambient Dreams",description:"Soft, ethereal sounds perfect for relaxation",icon:"🌙",settings:{waveform:"sine",adsr:{attack:2,decay:1.5,sustain:.8,release:3},filterCutoff:800,effects:{reverb:!0,delay:!0}}},{id:"electronic",name:"Electronic Dance",description:"Punchy, energetic sounds for electronic music",icon:"⚡",settings:{waveform:"sawtooth",adsr:{attack:.05,decay:.3,sustain:.7,release:.8},filterCutoff:1500,effects:{reverb:!1,delay:!0}}},{id:"classical",name:"Classical Elegance",description:"Warm, rich tones like orchestral instruments",icon:"🎼",settings:{waveform:"triangle",adsr:{attack:.3,decay:.5,sustain:.6,release:2},filterCutoff:1200,effects:{reverb:!0,delay:!1}}},{id:"retro",name:"Retro Synth",description:"Nostalgic 80s synthesizer sounds",icon:"🎹",settings:{waveform:"square",adsr:{attack:.1,decay:.4,sustain:.5,release:1.2},filterCutoff:1e3,effects:{reverb:!0,delay:!0}}},{id:"bass",name:"Deep Bass",description:"Powerful low-end sounds for basslines",icon:"🎵",settings:{waveform:"sawtooth",adsr:{attack:.1,decay:.2,sustain:.9,release:.5},filterCutoff:400,effects:{reverb:!1,delay:!1}}},{id:"pad",name:"Atmospheric Pad",description:"Sustained, evolving textures for backgrounds",icon:"☁️",settings:{waveform:"sine",adsr:{attack:1.5,decay:2,sustain:.8,release:4},filterCutoff:600,effects:{reverb:!0,delay:!0}}}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🎨 Smart Presets"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Choose a style and let the synth configure itself!"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(o=>e.jsxs("button",{onClick:()=>t(o),className:`
              p-3 rounded-lg border transition-all duration-200 text-left
              ${l===o.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
            `,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xl",children:o.icon}),e.jsx("span",{className:"font-medium text-sm",children:o.name})]}),e.jsx("p",{className:"text-xs text-gray-400",children:o.description})]},o.id))}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>t(null),className:"btn-secondary px-4 py-2 text-sm",children:"🎲 Random Style"})})]})},be=({onChordTrigger:t,onChordRelease:l,currentKey:d="C",currentChord:o})=>{const[s,c]=A.useState(null),[x,y]=A.useState(new Set),p={C:{I:{name:"C",notes:["C4","E4","G4"],type:"major"},ii:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},iii:{name:"Em",notes:["E4","G4","B4"],type:"minor"},IV:{name:"F",notes:["F4","A4","C5"],type:"major"},V:{name:"G",notes:["G4","B4","D5"],type:"major"},vi:{name:"Am",notes:["A4","C5","E5"],type:"minor"},"vii°":{name:"B°",notes:["B4","D5","F5"],type:"diminished"}},G:{I:{name:"G",notes:["G3","B3","D4"],type:"major"},ii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},iii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},IV:{name:"C",notes:["C4","E4","G4"],type:"major"},V:{name:"D",notes:["D4","F#4","A4"],type:"major"},vi:{name:"Em",notes:["E4","G4","B4"],type:"minor"},"vii°":{name:"F#°",notes:["F#4","A4","C5"],type:"diminished"}},D:{I:{name:"D",notes:["D3","F#3","A3"],type:"major"},ii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},iii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},IV:{name:"G",notes:["G3","B3","D4"],type:"major"},V:{name:"A",notes:["A3","C#4","E4"],type:"major"},vi:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},"vii°":{name:"C#°",notes:["C#4","E4","G4"],type:"diminished"}},A:{I:{name:"A",notes:["A3","C#4","E4"],type:"major"},ii:{name:"Bm",notes:["B3","D4","F#4"],type:"minor"},iii:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},IV:{name:"D",notes:["D4","F#4","A4"],type:"major"},V:{name:"E",notes:["E4","G#4","B4"],type:"major"},vi:{name:"F#m",notes:["F#4","A4","C#5"],type:"minor"},"vii°":{name:"G#°",notes:["G#4","B4","D5"],type:"diminished"}},E:{I:{name:"E",notes:["E3","G#3","B3"],type:"major"},ii:{name:"F#m",notes:["F#3","A3","C#4"],type:"minor"},iii:{name:"G#m",notes:["G#3","B3","D#4"],type:"minor"},IV:{name:"A",notes:["A3","C#4","E4"],type:"major"},V:{name:"B",notes:["B3","D#4","F#4"],type:"major"},vi:{name:"C#m",notes:["C#4","E4","G#4"],type:"minor"},"vii°":{name:"D#°",notes:["D#4","F#4","A4"],type:"diminished"}},F:{I:{name:"F",notes:["F3","A3","C4"],type:"major"},ii:{name:"Gm",notes:["G3","Bb3","D4"],type:"minor"},iii:{name:"Am",notes:["A3","C4","E4"],type:"minor"},IV:{name:"Bb",notes:["Bb3","D4","F4"],type:"major"},V:{name:"C",notes:["C4","E4","G4"],type:"major"},vi:{name:"Dm",notes:["D4","F4","A4"],type:"minor"},"vii°":{name:"E°",notes:["E4","G4","Bb4"],type:"diminished"}}},g=p[d]||p.C,u={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};A.useEffect(()=>{const n=m=>{const a=m.key;if(u[a]&&!x.has(a)){m.preventDefault();const h=u[a],b=g[h];b&&(y(f=>new Set([...f,a])),k(h,b))}},r=m=>{const a=m.key;if(u[a]&&x.has(a)){m.preventDefault();const h=u[a],b=g[h];b&&(y(f=>{const N=new Set(f);return N.delete(a),N}),C(h,b))}};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}},[g,x]);const k=(n,r)=>{c(n),r.notes.forEach(m=>{t(m)})},C=(n,r)=>{c(null),r.notes.forEach(m=>{l(m)})},i=[{number:"I",label:"1",description:"Tonic - Home base"},{number:"ii",label:"2",description:"Supertonic - Gentle"},{number:"iii",label:"3",description:"Mediant - Warm"},{number:"IV",label:"4",description:"Subdominant - Bright"},{number:"V",label:"5",description:"Dominant - Strong"},{number:"vi",label:"6",description:"Submediant - Soft"},{number:"vii°",label:"7",description:"Leading tone - Tense"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🎵 Nashville Chord System"}),e.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Key of ",e.jsx("span",{className:"font-mono text-synth-primary",children:d})," - Press number keys 1-7 or click buttons to play harmonized chords!"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:i.map(n=>{const r=g[n.number],m=s===n.number,a=x.has(n.label);return e.jsxs("button",{onMouseDown:()=>k(n.number,r),onMouseUp:()=>C(n.number,r),onMouseLeave:()=>C(n.number,r),className:`
                relative p-4 rounded-lg border-2 transition-all duration-200
                ${m||a?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
              `,title:`${n.number}: ${r.name} - ${n.description} (Press ${n.label})`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold mb-1",children:n.label}),e.jsx("div",{className:"text-xs font-mono",children:r.name}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r.type})]}),e.jsx("div",{className:`
                absolute top-1 right-1 w-2 h-2 rounded-full
                ${r.type==="major"?"bg-green-400":r.type==="minor"?"bg-blue-400":"bg-red-400"}
              `})]},n.number)})}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"🎼 Popular Progressions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-5-6-4"}),e.jsx("span",{className:"text-gray-400",children:"Pop Classic"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-6-4-5"}),e.jsx("span",{className:"text-gray-400",children:"50s Progression"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-4-5-1"}),e.jsx("span",{className:"text-gray-400",children:"Simple & Strong"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-synth-primary",children:"1-2-5-1"}),e.jsx("span",{className:"text-gray-400",children:"Jazz Turnaround"})]})]})]}),s&&e.jsxs("div",{className:"bg-synth-primary/10 border border-synth-primary/30 rounded-lg p-3 text-center",children:[e.jsxs("div",{className:"text-synth-primary font-semibold",children:["Playing: ",g[s].name," (",s,")"]}),e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Notes: ",g[s].notes.join(" - ")]}),x.size>0&&e.jsxs("div",{className:"text-xs text-synth-accent mt-2",children:["Keys pressed: ",Array.from(x).join(", ")]})]})]})},fe=({onChordModify:t,currentModification:l})=>{const[d,o]=A.useState(!1),[s,c]=A.useState({x:0,y:0}),x={major:{x:0,y:1,name:"Major",color:"green"},minor:{x:0,y:-1,name:"Minor",color:"blue"},seventh:{x:1,y:0,name:"7th",color:"purple"},sus2:{x:-1,y:1,name:"Sus2",color:"yellow"},sus4:{x:-1,y:-1,name:"Sus4",color:"orange"},augmented:{x:1,y:1,name:"Aug",color:"red"},diminished:{x:1,y:-1,name:"Dim",color:"gray"}},y=n=>{o(!0),u(n)},p=n=>{d&&u(n)},g=()=>{o(!1)},u=n=>{const r=n.currentTarget.getBoundingClientRect(),m=r.width/2,a=r.height/2,h=(n.clientX-r.left-m)/m,b=(n.clientY-r.top-a)/a,f=Math.sqrt(h*h+b*b),N=f>1?h/f:h,S=f>1?b/f:b;c({x:N,y:S});const E=k(N,S);t(E)},k=(n,r)=>r>.3?n>.3?"augmented":n<-.3?"sus2":"major":r<-.3?n>.3?"diminished":n<-.3?"sus4":"minor":n>.3?"seventh":"major",i=(()=>k(s.x,s.y))();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🎛️ Chord Modifier"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Drag to modify chord quality in real-time"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative w-48 h-48 bg-synth-dark rounded-full border-2 border-gray-600 cursor-pointer",onMouseDown:y,onMouseMove:p,onMouseUp:g,onMouseLeave:g,children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-2 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2"}),Object.entries(x).map(([n,r])=>e.jsx("div",{className:`
                absolute w-16 h-16 rounded-full border-2 flex items-center justify-center text-xs font-semibold
                ${i===n?`border-${r.color}-400 bg-${r.color}-400/20 text-${r.color}-400`:"border-gray-600 bg-gray-700/50 text-gray-400"}
              `,style:{left:`${50+r.x*30}%`,top:`${50-r.y*30}%`,transform:"translate(-50%, -50%)"},children:r.name},n)),e.jsx("div",{className:"absolute w-4 h-4 bg-synth-primary rounded-full border-2 border-white transform -translate-x-1/2 -translate-y-1/2 transition-all duration-100",style:{left:`${50+s.x*30}%`,top:`${50-s.y*30}%`}})]})}),e.jsx("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-synth-accent mb-2",children:"Current Modification"}),e.jsx("div",{className:`
            inline-block px-4 py-2 rounded-lg font-semibold
            ${i==="major"?"bg-green-500/20 text-green-400 border border-green-500/30":i==="minor"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":i==="seventh"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":i==="sus2"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":i==="sus4"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":i==="augmented"?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}
          `,children:x[i].name})]})}),e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-synth-accent mb-3",children:"🎯 Modification Guide"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded"}),e.jsx("span",{children:"Major - Bright & Happy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded"}),e.jsx("span",{children:"Minor - Sad & Emotional"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-400 rounded"}),e.jsx("span",{children:"7th - Jazz & Sophisticated"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),e.jsx("span",{children:"Sus2 - Open & Suspended"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded"}),e.jsx("span",{children:"Sus4 - Tense & Resolving"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded"}),e.jsx("span",{children:"Aug - Bright & Tense"})]})]})]})]})},je=({onProgressionSelect:t,currentProgression:l,onAIChordSuggest:d})=>{const[o,s]=A.useState(!1),[c,x]=A.useState([]),[y,p]=A.useState([]),g={beginner:[{id:"happy-basic",name:"Happy Basic",difficulty:"Beginner",chords:["C","F","G","C"],pattern:"I - IV - V - I",description:"Perfect for uplifting songs",genre:"Pop",confidence:.95},{id:"sad-basic",name:"Melancholic",difficulty:"Beginner",chords:["Am","F","C","G"],pattern:"vi - IV - I - V",description:"Emotional and beautiful",genre:"Ballad",confidence:.92}],intermediate:[{id:"pop-classic",name:"Pop Classic",difficulty:"Intermediate",chords:["C","Am","F","G"],pattern:"I - vi - IV - V",description:"Used in countless hit songs",genre:"Pop",confidence:.98},{id:"jazz-turnaround",name:"Jazz Turnaround",difficulty:"Intermediate",chords:["C","Am","Dm","G"],pattern:"I - vi - ii - V",description:"Smooth jazz progression",genre:"Jazz",confidence:.89},{id:"blues-classic",name:"Classic Blues",difficulty:"Intermediate",chords:["C","C","F","C","G","F","C","G"],pattern:"I - I - IV - I - V - IV - I - V",description:"Traditional blues structure",genre:"Blues",confidence:.94}],advanced:[{id:"jazz-ii-v-i",name:"Jazz ii-V-I",difficulty:"Advanced",chords:["Dm7","G7","Cmaj7"],pattern:"ii7 - V7 - Imaj7",description:"Sophisticated jazz harmony",genre:"Jazz",confidence:.87},{id:"modal-interchange",name:"Modal Interchange",difficulty:"Advanced",chords:["C","Ab","Bb","F"],pattern:"I - bVI - bVII - IV",description:"Modern harmonic movement",genre:"Alternative",confidence:.76}]},u=n=>{if(n.length<2)return[];const r=n[n.length-1],m=n[n.length-2],a=[];return r==="C"&&m==="F"&&a.push({chord:"G",reason:"Classic V chord resolution",confidence:.9}),r==="G"&&m==="C"&&a.push({chord:"Am",reason:"Smooth vi chord movement",confidence:.85}),r==="Am"&&m==="F"&&a.push({chord:"C",reason:"Return to tonic",confidence:.88}),a.slice(0,3)},k=n=>{const r=[...c,n].slice(-10);x(r);const m=u(r);p(m),d(n,m)},C=n=>{t(n),s(!1)},i=()=>{s(!0),x([]),p([])};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-synth-accent mb-2",children:"🤖 Smart Chord AI"}),e.jsx("p",{className:"text-sm text-gray-400",children:"AI-powered chord suggestions and progression learning"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:i,className:`
            px-4 py-2 rounded-lg font-medium transition-all duration-200
            ${o?"bg-green-500/20 text-green-400 border border-green-500/30":"btn-primary"}
          `,children:o?"🧠 Learning Mode Active":"🎓 Start Learning Mode"})}),o&&y.length>0&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-400 mb-3",children:"💡 AI Suggestions"}),e.jsx("div",{className:"space-y-2",children:y.map((n,r)=>e.jsxs("button",{onClick:()=>k(n.chord),className:"w-full p-2 bg-green-500/20 hover:bg-green-500/30 rounded text-left transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-green-400",children:n.chord}),e.jsxs("span",{className:"text-xs text-gray-400",children:[(n.confidence*100).toFixed(0),"% match"]})]}),e.jsx("div",{className:"text-xs text-gray-300 mt-1",children:n.reason})]},r))})]}),o&&c.length>0&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"📚 Your Chord History"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((n,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm font-mono",children:n},r))})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([n,r])=>e.jsxs("div",{className:"bg-synth-dark/50 rounded-lg p-4 border border-gray-700",children:[e.jsxs("h4",{className:"font-semibold text-synth-accent mb-3 capitalize",children:[n," Progressions"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map(m=>e.jsxs("button",{onClick:()=>C(m),className:`
                    p-3 rounded-lg border transition-all duration-200 text-left
                    ${(l==null?void 0:l.id)===m.id?"border-synth-primary bg-synth-primary/20 text-synth-primary":"border-gray-600 bg-synth-dark/50 hover:border-synth-secondary hover:bg-synth-secondary/10"}
                  `,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:m.name}),e.jsx("div",{className:"text-sm text-gray-400",children:m.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-synth-accent font-mono",children:m.pattern}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(m.confidence*100).toFixed(0),"% confidence"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex space-x-2",children:m.chords.map((a,h)=>e.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded text-xs font-mono",children:a},h))}),e.jsx("div",{className:"text-xs text-gray-400",children:m.genre})]})]},m.id))})]},n))}),e.jsxs("div",{className:"bg-synth-secondary/10 border border-synth-secondary/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-synth-secondary mb-2",children:"📊 AI Learning Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Chords Analyzed"}),e.jsx("div",{className:"text-synth-secondary font-semibold",children:c.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-400",children:"Suggestions Generated"}),e.jsx("div",{className:"text-synth-secondary font-semibold",children:y.length})]})]})]})]})},ve=({currentChord:t,currentKey:l,activeNotes:d,currentModification:o,currentProgression:s,aiSuggestions:c})=>{const[x,y]=A.useState("chord"),p=[{id:"chord",label:"Chord",icon:"🎵"},{id:"progression",label:"Progression",icon:"🎼"},{id:"ai",label:"AI",icon:"🤖"}],g=()=>t?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-synth-primary mb-1",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.type," chord in ",l]})]}),e.jsx("div",{className:"flex justify-center space-x-2",children:t.notes.map((i,n)=>e.jsx("div",{className:`
                w-12 h-12 rounded-lg flex items-center justify-center text-sm font-mono
                ${d.has(i)?"bg-synth-primary text-white":"bg-gray-700 text-gray-300"}
              `,children:i},n))}),o&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-synth-accent",children:["Modified: ",o]})})]}):"No chord selected",u=()=>s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-synth-accent mb-1",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[s.pattern," • ",s.genre]})]}),e.jsx("div",{className:"flex justify-center space-x-2",children:s.chords.map((i,n)=>e.jsx("div",{className:"w-16 h-16 bg-synth-secondary/20 border border-synth-secondary/30 rounded-lg flex items-center justify-center text-sm font-mono text-synth-secondary",children:i},n))}),e.jsx("div",{className:"text-center text-xs text-gray-400",children:s.description})]}):"No progression selected",k=()=>!c||c.length===0?e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🤖"}),e.jsx("div",{children:"AI is analyzing your music..."}),e.jsx("div",{className:"text-xs mt-2",children:"Play some chords to get suggestions!"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-400 mb-1",children:"AI Suggestions"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Based on your playing pattern"})]}),e.jsx("div",{className:"space-y-2",children:c.map((i,n)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-500/10 border border-green-500/30 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-400",children:i.chord}),e.jsx("div",{className:"text-xs text-gray-400",children:i.reason})]}),e.jsxs("div",{className:"text-xs text-synth-accent font-mono",children:[(i.confidence*100).toFixed(0),"%"]})]},n))})]}),C=()=>{switch(x){case"chord":return g();case"progression":return u();case"ai":return k();default:return g()}};return e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-synth-accent",children:"📺 Visual Display"}),e.jsx("div",{className:"flex space-x-1",children:p.map(i=>e.jsx("button",{onClick:()=>y(i.id),className:`
                px-2 py-1 rounded text-xs font-medium transition-colors
                ${x===i.id?"bg-synth-primary text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
              `,children:i.icon},i.id))})]}),e.jsx("div",{className:"bg-synth-darker rounded-lg p-6 min-h-[200px] flex items-center justify-center",children:C()}),e.jsxs("div",{className:"mt-4 flex justify-between items-center text-xs text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsxs("span",{children:["Active Notes: ",d.size]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsxs("span",{children:["Key: ",l]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-synth-accent rounded-full animate-pulse"}),e.jsx("span",{children:"Live"})]})]}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-2",children:[e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"📊 Stats"}),e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"💾 Save"}),e.jsx("button",{className:"btn-secondary px-3 py-1 text-xs",children:"🔄 Reset"})]})]})},Ne=({currentPreset:t,currentChord:l,scale:d})=>{const[o,s]=A.useState(!0),c={ambient:{title:"🌙 Ambient Music Tips",tips:["Play slowly and let notes ring out","Use long, sustained notes for atmosphere","Try playing chords one note at a time (arpeggios)","Experiment with different octaves for depth"]},electronic:{title:"⚡ Electronic Music Tips",tips:["Play rhythmic patterns with short, punchy notes","Try repeating the same note quickly","Use the lower octave for basslines","Layer different rhythms for complexity"]},classical:{title:"🎼 Classical Music Tips",tips:["Play melodies that rise and fall naturally","Use longer notes for emotional expression","Try playing scales up and down","Experiment with dynamics (loud and soft)"]},retro:{title:"🎹 Retro Synth Tips",tips:["Play catchy, memorable melodies","Use the pentatonic scale for easy success","Try playing the same pattern in different octaves","Keep it simple and repetitive"]},bass:{title:"🎵 Bass Music Tips",tips:["Focus on the lower octave (left side of keyboard)","Play single notes with rhythm","Try playing root notes of chords","Keep it simple and groovy"]},pad:{title:"☁️ Pad Music Tips",tips:["Hold down multiple notes at once","Play chords and let them sustain","Use slow, gentle movements","Layer different chord inversions"]}},x={happy:"Play the highlighted green keys - they'll sound great together!",sad:"Try playing slower, more emotional melodies with these chords.",jazz:"Experiment with complex rhythms and syncopation.",pop:"These chords are used in countless hit songs - play catchy melodies!",blues:"Try playing the same note repeatedly, then slide to another.",ambient:"Hold down multiple notes and let them blend together."},y=c[t]||c.ambient,p=x[l==null?void 0:l.id]||"Play any notes and see what sounds good!";return e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-synth-accent",children:"🎯 Music Guidance"}),e.jsx("button",{onClick:()=>s(!o),className:"text-gray-400 hover:text-white transition-colors",children:o?"👁️":"👁️‍🗨️"})]}),o&&e.jsxs("div",{className:"space-y-4",children:[t&&e.jsxs("div",{className:"bg-synth-primary/10 border border-synth-primary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-primary mb-2",children:y.title}),e.jsx("ul",{className:"space-y-1 text-sm text-gray-300",children:y.tips.map((g,u)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsx("span",{children:g})]},u))})]}),l&&e.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-400 mb-2",children:"🎵 Chord Progression Tips"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:p}),e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsxs("p",{children:["Pattern: ",e.jsx("span",{className:"font-mono text-green-400",children:l.pattern})]}),e.jsxs("p",{children:["Chords: ",e.jsx("span",{className:"font-mono text-green-400",children:l.chords.join(" - ")})]})]})]}),e.jsxs("div",{className:"bg-synth-secondary/10 border border-synth-secondary/30 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-synth-secondary mb-2",children:"💡 Quick Start Tips"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Start with the ",e.jsx("strong",{children:"green keys"})," - they always sound good!"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Try playing ",e.jsx("strong",{children:"3-4 notes"})," in a row to make melodies"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Hold down ",e.jsx("strong",{children:"multiple keys"})," at once for chords"]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-synth-accent mt-0.5",children:"•"}),e.jsxs("span",{children:["Don't worry about mistakes - ",e.jsx("strong",{children:"experiment freely!"})]})]})]})]}),d&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-blue-400 mb-2",children:["🎼 Scale: ",d.charAt(0).toUpperCase()+d.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-300",children:["The ",e.jsx("strong",{children:"blue keys"})," belong to this scale and will sound harmonious together."]})]})]}),!o&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"Tips are hidden"}),e.jsx("button",{onClick:()=>s(!0),className:"btn-primary px-4 py-2",children:"Show Tips"})]})]})};function we(){const[t,l]=w.useState(null),[d,o]=w.useState(!1),[s,c]=w.useState(null),[x,y]=w.useState(""),[p,g]=w.useState("sine"),[u,k]=w.useState({attack:.1,decay:.2,sustain:.5,release:1}),[C,i]=w.useState(1e3),[n,r]=w.useState({reverb:!1,delay:!1}),[m,a]=w.useState(null),[h,b]=w.useState(null),[f,N]=w.useState(null),[S,E]=w.useState("C"),[I,U]=w.useState("major"),[G,K]=w.useState("major"),[P,M]=w.useState(new Set),[q,H]=w.useState([]);w.useEffect(()=>{(async()=>{try{if(y("Initializing Tone.js..."),typeof Z>"u")throw new Error("Tone.js is not loaded");y("Creating synthesizer...");const v=new ee(se,{oscillator:{type:p},envelope:{attack:u.attack,decay:u.decay,sustain:u.sustain,release:u.release}}).toDestination();y("Setting up audio chain...");const D=new te(C,"lowpass");v.connect(D),D.toDestination();const Y=new ne(2).toDestination(),X=new ae("4n",.2).toDestination();n.reverb&&D.connect(Y),n.delay&&D.connect(X),l(v),o(!0),y("Synthesizer ready!"),c(null)}catch(v){console.error("Failed to initialize synthesizer:",v),c(v.message),y(`Error: ${v.message}`)}})()},[]),w.useEffect(()=>{t&&d&&t.set({oscillator:{type:p},envelope:u})},[t,p,u,d]);const z=j=>{if(t&&d)try{t.triggerAttack(j),M(v=>new Set([...v,j])),console.log("Playing note:",j)}catch(v){console.error("Error triggering note:",v)}},T=j=>{if(t&&d)try{t.triggerRelease(j),M(v=>{const D=new Set(v);return D.delete(j),D}),console.log("Releasing note:",j)}catch(v){console.error("Error releasing note:",v)}},$=()=>{if(t&&d)try{t.releaseAll(),M(new Set),console.log("Stopped all notes")}catch(j){console.error("Error stopping notes:",j)}},_=j=>{U(j),console.log("Chord modification:",j)},W=(j,v)=>{console.log("AI suggested chord:",j,v),H(v)},L=j=>{if(j)g(j.settings.waveform),k(j.settings.adsr),i(j.settings.filterCutoff),r(j.settings.effects),a(j.id),K({ambient:"major",electronic:"minor",classical:"major",retro:"pentatonic",bass:"blues",pad:"major"}[j.id]||"major");else{const v=["ambient","electronic","classical","retro","bass","pad"],D=v[Math.floor(Math.random()*v.length)];L({id:D})}},J=()=>{const j=["sine","square","sawtooth","triangle"],v=j[Math.floor(Math.random()*j.length)];g(v),k({attack:Math.random()*2,decay:Math.random()*2,sustain:Math.random(),release:Math.random()*3}),i(Math.random()*2e3+200),r({reverb:Math.random()>.5,delay:Math.random()>.5}),a(null),b(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-synth-darker to-synth-dark text-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-synth-primary mb-2",children:"BigSoundGen"}),e.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"Idiot-Proof Music Synthesizer"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Make great music without knowing music theory! 🎵"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(be,{onChordTrigger:z,onChordRelease:T,currentKey:S,currentChord:h})}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(fe,{onChordModify:_,currentModification:I})}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(je,{onProgressionSelect:N,currentProgression:f,onAIChordSuggest:W})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(ge,{onPresetSelect:L,currentPreset:m})})}),e.jsx("div",{className:"mb-8",children:e.jsx(ve,{currentChord:h,currentKey:S,activeNotes:P,currentModification:I,currentProgression:f,aiSuggestions:q})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Oscillator"}),e.jsx(xe,{waveform:p,onWaveformChange:g})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"ADSR Envelope"}),e.jsx(he,{adsr:u,onAdsrChange:k})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Filter"}),e.jsx(ye,{cutoff:C,onCutoffChange:i})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Advanced Effects"}),e.jsx(pe,{effects:n,onEffectsChange:r})]}),e.jsx("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:e.jsx(ue,{onRandomize:J})})]}),e.jsxs("div",{className:"bg-synth-dark/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-synth-accent",children:"Smart Keyboard"}),e.jsx(me,{onNoteTrigger:z,onNoteRelease:T,onStopAll:$,currentChord:h,scale:G,activeNotes:P})]}),e.jsx("div",{children:e.jsx(Ne,{currentPreset:m,currentChord:h,scale:G})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("div",{className:`inline-flex items-center px-4 py-2 rounded-full ${s?"bg-red-500/20 text-red-400 border border-red-500/30":d?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${s?"bg-red-400":d?"bg-green-400":"bg-yellow-400"}`}),s?"Error Loading":d?"Synthesizer Ready":"Initializing..."]}),d&&e.jsx("button",{onClick:$,className:"btn-secondary px-4 py-2 text-sm",children:"🛑 Emergency Stop"})]}),x&&e.jsx("div",{className:"text-sm text-gray-400",children:x}),s&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 max-w-md mx-auto",children:[e.jsx("div",{className:"text-red-400 font-semibold mb-2",children:"Error Details:"}),e.jsx("div",{className:"text-red-300 text-sm",children:s}),e.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Check browser console for more details"})]})]})]})})}B.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(we,{})}));
