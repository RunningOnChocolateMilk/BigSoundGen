import{r as n,a as X,R as Z}from"./vendor-b1791c80.js";import{P as ee,S as se,T as v,c as te}from"./tone-c5e6af11.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function d(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(a){if(a.ep)return;a.ep=!0;const l=d(a);fetch(a.href,l)}})();var B={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re=n,ae=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),le=Object.prototype.hasOwnProperty,oe=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ie={key:!0,ref:!0,__self:!0,__source:!0};function P(g,o,d){var c,a={},l=null,m=null;d!==void 0&&(l=""+d),o.key!==void 0&&(l=""+o.key),o.ref!==void 0&&(m=o.ref);for(c in o)le.call(o,c)&&!ie.hasOwnProperty(c)&&(a[c]=o[c]);if(g&&g.defaultProps)for(c in o=g.defaultProps,o)a[c]===void 0&&(a[c]=o[c]);return{$$typeof:ae,type:g,key:l,ref:m,props:a,_owner:oe.current}}p.Fragment=ne;p.jsx=P;p.jsxs=P;B.exports=p;var e=B.exports,S={},_=X;S.createRoot=_.createRoot,S.hydrateRoot=_.hydrateRoot;const ce=()=>{const[g,o]=n.useState(!1),[d,c]=n.useState("C"),[a,l]=n.useState("piano"),[m,f]=n.useState(new Set),[me,C]=n.useState(new Set),[x,V]=n.useState(null),[D,O]=n.useState("00:00.0"),[F,xe]=n.useState(120),[E,y]=n.useState(!1),[z,H]=n.useState(!1),[R,$]=n.useState(!1),[K,G]=n.useState(.7),[M,b]=n.useState([{id:1,name:"Synth Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:2,name:"Drum Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:3,name:"Bass Track",mute:!1,solo:!1,volume:.7,hasContent:!1},{id:4,name:"Lead Track",mute:!1,solo:!1,volume:.7,hasContent:!1}]),[h,j]=n.useState(!1),[he,k]=n.useState(null),[U,I]=n.useState(0),N={C:{I:{name:"C",notes:["C3","E3","G3"],type:"major"},ii:{name:"Dm",notes:["D3","F3","A3"],type:"minor"},iii:{name:"Em",notes:["E3","G3","B3"],type:"minor"},IV:{name:"F",notes:["F3","A3","C4"],type:"major"},V:{name:"G",notes:["G3","B3","D4"],type:"major"},vi:{name:"Am",notes:["A3","C4","E4"],type:"minor"},"vii°":{name:"Bdim",notes:["B3","D4","F4"],type:"diminished"}}},L={piano:{name:"Piano",waveform:"triangle"},synth:{name:"Synth",waveform:"sawtooth"},bass:{name:"Bass",waveform:"square"},strings:{name:"Strings",waveform:"triangle"}};n.useEffect(()=>{(async()=>{const r=new ee(se,{oscillator:{type:"sine"},envelope:{attack:.1,decay:.2,sustain:.7,release:1.2}}).toDestination();V(r),o(!0)})()},[]);const A=s=>{if(!x)return;const r=N[d][s];r&&(r.notes.forEach(t=>{x.triggerAttack(t)}),f(t=>new Set([...t,s])))},w=s=>{if(!x)return;const r=N[d][s];r&&(r.notes.forEach(t=>{x.triggerRelease(t)}),f(t=>{const i=new Set(t);return i.delete(s),i}))},q=()=>{x&&(x.releaseAll(),f(new Set))},W=()=>{E?(v.stop(),y(!1)):(v.start(),y(!0))},J=()=>{v.stop(),v.position=0,y(!1),O("00:00.0")},Y=async()=>{try{const r=te.createMediaStreamDestination();x.connect(r);const t=new MediaRecorder(r.stream,{mimeType:"audio/webm;codecs=opus"}),i=[];t.ondataavailable=u=>{u.data.size>0&&i.push(u.data)},t.onstop=()=>{const u=new Blob(i,{type:"audio/webm"});k(u),j(!1)},t.start(1e3),j(!0),I(0),k(null)}catch(s){console.error("Failed to start recording:",s)}},Q=()=>{j(!1)};return n.useEffect(()=>{const s=t=>{if(t.repeat)return;const i={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};i[t.key]&&(t.preventDefault(),A(i[t.key]),C(u=>new Set([...u,t.key]))),t.key==="Escape"&&q()},r=t=>{const i={1:"I",2:"ii",3:"iii",4:"IV",5:"V",6:"vi",7:"vii°"};i[t.key]&&(t.preventDefault(),w(i[t.key]),C(u=>{const T=new Set(u);return T.delete(t.key),T}))};return window.addEventListener("keydown",s),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",r)}},[d,x]),n.useEffect(()=>{let s=null;return h?s=setInterval(()=>{I(r=>r+1)},1e3):clearInterval(s),()=>clearInterval(s)},[h]),g?e.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col",children:[e.jsxs("div",{className:"h-12 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})}),e.jsx("span",{className:"font-bold text-lg",children:"ChordMaster"})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"File"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Edit"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Settings"}),e.jsx("button",{className:"hover:text-blue-400 transition-colors",children:"Help"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-sm text-green-400",children:"Ready"}),e.jsx("div",{className:"text-sm font-semibold",children:"Untitled Project"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{className:"px-3 py-1 bg-blue-600 rounded text-sm hover:bg-blue-700",children:"Save"}),e.jsx("button",{className:"px-3 py-1 bg-gray-600 rounded text-sm hover:bg-gray-500",children:"Export"})]})]}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"w-64 bg-gray-800 border-r border-gray-700 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Tracks"}),M.map(s=>e.jsxs("div",{className:"bg-gray-700 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:s.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>b(r=>r.map(t=>t.id===s.id?{...t,solo:!t.solo}:t)),className:`w-6 h-6 rounded text-xs ${s.solo?"bg-yellow-600":"bg-gray-600"}`,children:"S"}),e.jsx("button",{onClick:()=>b(r=>r.map(t=>t.id===s.id?{...t,mute:!t.mute}:t)),className:`w-6 h-6 rounded text-xs ${s.mute?"bg-red-600":"bg-gray-600"}`,children:"M"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Vol"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.volume,onChange:r=>b(t=>t.map(i=>i.id===s.id?{...i,volume:parseFloat(r.target.value)}:i)),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Pan"}),e.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:"0",className:"flex-1"})]})]})]},s.id)),e.jsx("button",{className:"w-full py-2 bg-gray-700 rounded text-sm hover:bg-gray-600",children:"+ Add Track"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"h-8 bg-gray-800 border-b border-gray-700 flex items-center px-4",children:e.jsx("div",{className:"flex gap-8 text-sm text-gray-400",children:Array.from({length:16},(s,r)=>e.jsx("div",{className:"w-8 text-center",children:r+1},r))})}),e.jsx("div",{className:"flex-1 bg-gray-900 p-4",children:e.jsx("div",{className:"space-y-2",children:M.map(s=>e.jsxs("div",{className:"h-16 bg-gray-800 rounded border border-gray-700 flex items-center px-4",children:[e.jsx("div",{className:"w-32 text-sm font-semibold",children:s.name}),e.jsx("div",{className:"flex-1 flex gap-2",children:s.hasContent?e.jsx("div",{className:"h-12 bg-blue-600 rounded flex items-center px-3",children:e.jsx("div",{className:"text-sm",children:"Audio Clip"})}):e.jsx("div",{className:"h-12 bg-gray-700 rounded flex items-center px-3 text-gray-500",children:"Empty"})})]},s.id))})})]}),e.jsx("div",{className:"w-80 bg-gray-800 border-l border-gray-700 p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-700 rounded p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"})}),"Synthesizer"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-300 block mb-2",children:"Instrument"}),e.jsx("select",{value:a,onChange:s=>l(s.target.value),className:"w-full px-3 py-2 rounded bg-gray-600 text-white border border-gray-500",children:Object.keys(L).map(s=>e.jsx("option",{value:s,children:L[s].name},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-300 block mb-2",children:"Key"}),e.jsxs("select",{value:d,onChange:s=>c(s.target.value),className:"w-full px-3 py-2 rounded bg-gray-600 text-white border border-gray-500",children:[e.jsx("option",{value:"C",children:"C"}),e.jsx("option",{value:"G",children:"G"}),e.jsx("option",{value:"D",children:"D"}),e.jsx("option",{value:"A",children:"A"}),e.jsx("option",{value:"E",children:"E"}),e.jsx("option",{value:"F",children:"F"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-700 rounded p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),"Nashville Chords"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(N[d]).map(([s,r])=>e.jsxs("button",{onMouseDown:()=>A(s),onMouseUp:()=>w(s),onMouseLeave:()=>w(s),className:`p-3 rounded-lg text-sm font-semibold transition-all duration-200 ${m.has(s)?"bg-blue-600 text-white shadow-lg":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[e.jsx("div",{className:"text-xs text-gray-400",children:s}),e.jsx("div",{children:r.name})]},s))})]}),e.jsxs("div",{className:"bg-gray-700 rounded p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3.16-2.54 5.7-5.7 5.7S6 14.16 6 11H4c0 4.42 3.58 8 8 8s8-3.58 8-8h-2.7z"})}),"Recording"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Y,disabled:h,className:`flex-1 py-2 rounded font-semibold transition-all duration-300 ${h?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:h?"Recording...":"Record"}),e.jsx("button",{onClick:Q,disabled:!h,className:`flex-1 py-2 rounded font-semibold transition-all duration-300 ${h?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-500 text-gray-300 cursor-not-allowed"}`,children:"Stop"})]}),h&&e.jsxs("div",{className:"text-center text-sm text-gray-400",children:["Recording... ",U,"s"]})]})]})]})})]}),e.jsxs("div",{className:"h-16 bg-gray-800 border-t border-gray-700 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:K,onChange:s=>G(parseFloat(s.target.value)),className:"w-20"})]}),e.jsx("div",{className:"text-sm font-mono",children:D})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:J,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 6h12v12H6z"})})}),e.jsx("button",{onClick:W,className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:E?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):e.jsx("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("button",{className:"w-8 h-8 bg-gray-600 rounded flex items-center justify-center hover:bg-gray-500",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm",children:["Key: ",d]}),e.jsxs("div",{className:"text-sm",children:["Tempo: ",F]}),e.jsx("button",{onClick:()=>H(!z),className:`px-3 py-1 rounded text-sm ${z?"bg-blue-600":"bg-gray-600"}`,children:"Loop"}),e.jsx("button",{onClick:()=>$(!R),className:`px-3 py-1 rounded text-sm ${R?"bg-yellow-600":"bg-gray-600"}`,children:"Metronome"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"-"}),e.jsx("button",{className:"w-6 h-6 bg-gray-600 rounded flex items-center justify-center",children:"+"})]})]})]}):e.jsx("div",{className:"h-screen bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:"Loading..."})})};function de(){return e.jsx(ce,{})}S.createRoot(document.getElementById("root")).render(e.jsx(Z.StrictMode,{children:e.jsx(de,{})}));
